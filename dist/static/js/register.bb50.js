(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{Rc4f:function(e,t,r){"use strict";var o=r("lSNA"),i=r.n(o),s=r("L2JU");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var a={name:"Captcha",props:{scene:{type:String,default:"nc_login"},customWidth:{type:[String,Number],default:360},purpose:{type:[String,Number],default:"nc_login_pc"},id:{type:String,default:"captcha"}},data:function(){return{appkey:"FFFF0N000000000085FE",nc:null,visible:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(s.d)(["lang"])),watch:{visible:function(e){var t=this;e&&this.$nextTick((function(){t.init()}))}},mounted:function(){},methods:{init:function(){var e=this;if(this.nc)this.nc.reload();else{var t=[this.appkey,(new Date).getTime(),Math.random()].join(":"),r="zh"===this.lang?"cn":"ko"===this.lang?"ko_KR":this.lang,o={renderTo:"#".concat(this.id),appkey:this.appkey,scene:this.scene,token:t,customWidth:this.customWidth,trans:{purpose:"nc_login_pc"},language:r,isEnabled:!0,timeout:3e3,times:5,callback:function(t){e.visible=!1,e.$emit("on-success",t)}};this.nc=new noCaptcha(o),this.nc.upLang("cn",{_startTEXT:"请按住滑块，拖动到最右边",_yesTEXT:"验证通过",_error300:"哎呀，出错了，点击<a href='javascript:__nc.reset()'>刷新</a>再来一次",_errorNetwork:"网络不给力，请<a href='javascript:__nc.reset()'>点击刷新</a>"})}},reload:function(){this.nc.reload()},hide:function(){this.visible=!1},show:function(){this.visible=!0}}},l=r("KHd+"),c=Object(l.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"captcha-dialog",attrs:{title:e.$t("common.sliding_verification"),visible:e.visible,width:"400px"},on:{"update:visible":function(t){e.visible=t}}},[r("div",{staticClass:"nc-container",attrs:{id:e.id}})])}),[],!1,null,"226af3d4",null);t.a=c.exports},VrS8:function(e,t,r){"use strict";r.r(t);var o=r("lSNA"),i=r.n(o),s=r("vKDJ"),n=r("Rc4f"),a=r("L2JU");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"Register",components:{Captcha:n.a},data:function(){var e=this,t=function(t,r,o){/^(?=.*\D)(?!.*\s).{8,20}$/.test(r)?o():o(new Error(e.$t("login.password_regexp")))},r=function(t,r,o){("mobile"===e.regType?r!==e.regMobileForm.password:r!==e.regForm.password)?o(new Error(e.$t("login.inconsistent_password"))):o()},o=function(t,r,o){r?o():o(new Error(e.$t("login.check_agreement")))};return{captchaObj:null,isRegisterProcessing:!1,sendEmailCountDown:0,sendSMSCountDown:0,sendEmailBtnText:this.$t("common.send_code"),sendSMSBtnText:this.$t("common.send_code"),regForm:{username:"",password:"",emailCode:"",confirmPassword:"",invitationCode:"",agentCode:"",isAgree:""},rules:{username:[{required:!0,message:this.$t("login.please_input_the_email_address"),trigger:"blur"},{type:"email",message:this.$t("login.please_input_the_correct_email_address"),trigger:"blur"}],password:[{required:!0,message:this.$t("login.please_enter_your_password"),trigger:"blur"},{validator:t,trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("login.enter_the_new_password_again"),trigger:"blur"},{validator:r,trigger:"blur"}],emailCode:[{required:!0,message:this.$t("login.enter_verification_code"),trigger:"blur"}],isAgree:[{validator:o,trigger:["change"]}]},regType:"email",regMobileForm:{countryCode:"86",mobile:"",password:"",confirmPassword:"",mobileCode:"",agentCode:"",invitationCode:"",isAgree:""},captcha:{nc_sessionId:"",nc_sig:"",nc_token:"",nc_scene:"nc_register",isNcVerify:!0},regmobileRules:{mobile:[{required:!0,message:this.$t("login.please_input_the_phone_address"),trigger:"blur"}],password:[{required:!0,message:this.$t("login.please_enter_your_password"),trigger:"blur"},{validator:t,trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("login.enter_the_new_password_again"),trigger:"blur"},{validator:r,trigger:"blur"}],mobileCode:[{required:!0,message:this.$t("login.enter_verification_code"),trigger:"blur"}],isAgree:[{validator:o,trigger:["change"]}]},countryCodeList:[]}},mounted:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.pageYOffset=0;var e=this.$route.params.username;e&&(C.Utils.isEmail(e)?this.regForm.username=e:(this.regMobileForm.mobile=e,this.regType="mobile")),this.$route.query.agentCode&&(this.regMobileForm.agentCode=this.regForm.agentCode=this.$route.query.agentCode),this.$route.query.code&&(this.regMobileForm.invitationCode=this.regForm.invitationCode=this.$route.query.code),this.getCountryList()},methods:c(c(c({},Object(a.c)(["setUserInfo"])),Object(a.b)(["setToken"])),{},{getCountryList:function(){var e=this;s.a.getCountries().then((function(t){e.countryCodeList=t}))},switchRegType:function(e){this.regType=e},sendEmailAuthNo:function(){this.regForm.username?C.Utils.isEmail(this.regForm.username)?this.$refs.captcha.show():this.$message.warning(this.$t("login.please_input_the_correct_email_address")):this.$message.warning(this.$t("login.please_input_the_email_address"))},sendEmailAuthNoAjax:function(){var e=this;s.a.sendRegistEmailCode(c({email:this.regForm.username},this.captcha)).then((function(){e.sendEmailCountDown=60,e.emailCountDown()})).catch((function(){e.sendEmailCountDown=0}))},emailCountDown:function(){this.sendEmailCountDown>0?(this.sendEmailCountDown=this.sendEmailCountDown-1,this.sendEmailBtnText=this.sendEmailCountDown+"S",setTimeout(this.emailCountDown,1e3)):this.sendEmailBtnText=this.$t("common.send_code")},sendSMSAuthNo:function(){this.regMobileForm.mobile?("86"!==this.regMobileForm.countryCode||C.Utils.regexp.mobile.test(this.regMobileForm.mobile))&&/[0-9]+/.test(this.regMobileForm.mobile)?this.$refs.captcha.show():this.$message.warning(this.$t("login.please_input_the_correct_mobile")):this.$message.warning(this.$t("login.please_input_the_phone_address"))},sendSMSAuthNoAjax:function(){var e=this;s.a.sendRegistMobileCode(c({countryCode:this.regMobileForm.countryCode,mobile:this.regMobileForm.mobile},this.captcha)).then((function(){e.sendSMSCountDown=60,e.smsCountDown()})).catch((function(){e.sendSMSCountDown=0}))},smsCountDown:function(){this.sendSMSCountDown>0?(this.sendSMSCountDown=this.sendSMSCountDown-1,this.sendSMSBtnText=this.sendSMSCountDown+"S",setTimeout(this.smsCountDown,1e3)):this.sendSMSBtnText=this.$t("common.send_code")},handleSuccessCaptcha:function(e){this.captcha.nc_sessionId=e.csessionid,this.captcha.nc_sig=e.sig,this.captcha.nc_token=e.token,"email"===this.regType?this.sendEmailAuthNoAjax():this.sendSMSAuthNoAjax()},checkAndRegister:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"email"===t.regType?t.doRegisterEmail():t.doRegisterMobile()}))},doRegisterEmail:function(){var e=this;this.isRegisterProcessing=!0,s.a.registerWithEmailCode(c({},this.regForm)).then((function(t){e.$message.success(e.$t("login.register_success")),e.$store.commit("setActivityManager",t.activityManager||{}),e.setToken(t.token),e.$router.push("/")})).finally((function(){e.isRegisterProcessing=!1}))},doRegisterMobile:function(){var e=this;this.isRegisterProcessing=!0,s.a.registerWithMobile(c({},this.regMobileForm)).then((function(t){e.$message.success(e.$t("login.register_success")),e.$store.commit("setActivityManager",t.activityManager||{}),e.setToken(t.token),e.$router.push("/")})).finally((function(){e.isRegisterProcessing=!1}))}})},g=r("KHd+"),d=Object(g.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",[r("div",{staticClass:"login-main"},[r("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.isRegisterProcessing,expression:"isRegisterProcessing"}],staticClass:"register"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"title",class:{active:"email"===e.regType},on:{click:function(t){return e.switchRegType("email")}}},[e._v("\n          "+e._s(e.$t("login.email_register"))+"\n        ")]),e._v(" "),r("div",{staticClass:"title",class:{active:"mobile"===e.regType},on:{click:function(t){return e.switchRegType("mobile")}}},[e._v("\n          "+e._s(e.$t("login.phone_register"))+"\n        ")])]),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"email"===e.regType,expression:"regType === 'email'"}],ref:"regForm",staticClass:"regForm",attrs:{"hide-required-asterisk":!0,"status-icon":!1,model:e.regForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{ref:"username",attrs:{type:"email","auto-complete":"off",placeholder:e.$t("login.email")},model:{value:e.regForm.username,callback:function(t){e.$set(e.regForm,"username",t)},expression:"regForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{ref:"password",attrs:{type:"password",placeholder:e.$t("login.password_regexp")},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{ref:"confirmPassword",attrs:{type:"password",placeholder:e.$t("login.confirm_password")},model:{value:e.regForm.confirmPassword,callback:function(t){e.$set(e.regForm,"confirmPassword",t)},expression:"regForm.confirmPassword"}})],1),e._v(" "),r("el-form-item",{staticClass:"btnDisabled",attrs:{prop:"emailCode"}},[r("el-input",{ref:"emailCode",attrs:{type:"text",placeholder:e.$t("common.email_code")},model:{value:e.regForm.emailCode,callback:function(t){e.$set(e.regForm,"emailCode",t)},expression:"regForm.emailCode"}},[r("template",{slot:"append"},[r("el-button",{staticClass:"send-btn",attrs:{disabled:e.sendEmailCountDown>0},domProps:{textContent:e._s(e.sendEmailBtnText)},on:{click:function(t){return e.sendEmailAuthNo("username")}}})],1)],2)],1),e._v(" "),e.regForm.agentCode?e._e():r("el-form-item",[r("el-input",{attrs:{placeholder:e.$t("login.your_invitation_code")},model:{value:e.regForm.invitationCode,callback:function(t){e.$set(e.regForm,"invitationCode",t)},expression:"regForm.invitationCode"}})],1),e._v(" "),r("el-form-item",{staticStyle:{"line-height":"30px"},attrs:{prop:"isAgree"}},[r("div",{staticClass:"desc"},[r("el-checkbox",{ref:"isAgree",model:{value:e.regForm.isAgree,callback:function(t){e.$set(e.regForm,"isAgree",t)},expression:"regForm.isAgree"}}),e._v(" "),r("span",{staticStyle:{margin:"0 10px"}},[e._v(e._s(e.$t("login.agree")))]),r("a",{attrs:{href:e.$t("user.userAgreementUrl"),target:"_blank"}},[e._v(e._s(e.$t("login.user_agreement")))]),r("span",{domProps:{innerHTML:e._s(e.$t("footer.risk_prompts_space"))}}),r("a",{attrs:{target:"_blank",href:e.$t("footer.risk_prompts_url")}},[e._v(e._s(e.$t("footer.risk_prompts")))])],1)]),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"406px"},attrs:{type:"primary"},on:{click:function(t){return e.checkAndRegister("regForm")}}},[e._v("\n            "+e._s(e.$t("login.register"))+"\n          ")])],1),e._v(" "),r("div",{staticStyle:{float:"right","margin-top":"10px"}},[r("span",{staticClass:"desc",staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$t("login.have_an_account")))]),r("a",{staticClass:"hover",attrs:{href:"/login"}},[e._v(e._s(e.$t("login.login")))])])],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"email"!==e.regType,expression:"regType !== 'email'"}],ref:"regMobileForm",staticClass:"regForm",attrs:{"hide-required-asterisk":!0,"status-icon":!1,model:e.regMobileForm,rules:e.regmobileRules}},[r("el-form-item",{staticStyle:{display:"inline-block",width:"100px"}},[r("el-select",{staticClass:"countryCode",staticStyle:{width:"100px"},attrs:{"popper-class":"popper-countryCode"},model:{value:e.regMobileForm.countryCode,callback:function(t){e.$set(e.regMobileForm,"countryCode",t)},expression:"regMobileForm.countryCode"}},e._l(e.countryCodeList,(function(t){return r("el-option",{key:t.name+t.code,attrs:{label:"+"+t.code,value:t.code}},[r("span",{staticStyle:{float:"left",color:"#333","font-size":"16px"}},[e._v(e._s(t.name))]),e._v(" "),r("span",{staticStyle:{float:"right",color:"#999","font-size":"16px"}},[e._v("+"+e._s(t.code))])])})),1)],1),e._v(" "),r("el-form-item",{staticStyle:{display:"inline-block",width:"294px","margin-left":"8px"},attrs:{prop:"mobile"}},[r("el-input",{ref:"mobile",attrs:{type:"text",autocomplete:"off",placeholder:e.$t("login.phone")},model:{value:e.regMobileForm.mobile,callback:function(t){e.$set(e.regMobileForm,"mobile",t)},expression:"regMobileForm.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{ref:"password",attrs:{type:"password",autocomplete:"off",placeholder:e.$t("login.password_regexp")},model:{value:e.regMobileForm.password,callback:function(t){e.$set(e.regMobileForm,"password",t)},expression:"regMobileForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{ref:"confirmPassword",attrs:{type:"password",autocomplete:"off",placeholder:e.$t("login.confirm_password")},model:{value:e.regMobileForm.confirmPassword,callback:function(t){e.$set(e.regMobileForm,"confirmPassword",t)},expression:"regMobileForm.confirmPassword"}})],1),e._v(" "),r("el-form-item",{staticClass:"btnDisabled",attrs:{prop:"mobileCode"}},[r("el-input",{ref:"mobileCode",attrs:{type:"text",placeholder:e.$t("user.apikey.sms_code")},model:{value:e.regMobileForm.mobileCode,callback:function(t){e.$set(e.regMobileForm,"mobileCode",t)},expression:"regMobileForm.mobileCode"}},[r("template",{slot:"append"},[r("el-button",{staticClass:"send-btn",attrs:{disabled:e.sendSMSCountDown>0},domProps:{textContent:e._s(e.sendSMSBtnText)},on:{click:function(t){return e.sendSMSAuthNo("username")}}})],1)],2)],1),e._v(" "),e.regMobileForm.agentCode?e._e():r("el-form-item",[r("el-input",{attrs:{placeholder:e.$t("login.your_invitation_code")},model:{value:e.regMobileForm.invitationCode,callback:function(t){e.$set(e.regMobileForm,"invitationCode",t)},expression:"regMobileForm.invitationCode"}})],1),e._v(" "),r("el-form-item",{staticStyle:{"line-height":"30px"},attrs:{prop:"isAgree"}},[r("div",{staticClass:"desc"},[r("el-checkbox",{ref:"isAgree",model:{value:e.regMobileForm.isAgree,callback:function(t){e.$set(e.regMobileForm,"isAgree",t)},expression:"regMobileForm.isAgree"}}),e._v(" "),r("span",{staticStyle:{margin:"0 10px"}},[e._v(e._s(e.$t("login.agree")))]),r("a",{attrs:{href:e.$t("user.userAgreementUrl"),target:"_blank"}},[e._v(e._s(e.$t("login.user_agreement")))]),r("span",{domProps:{innerHTML:e._s(e.$t("footer.risk_prompts_space"))}}),r("a",{attrs:{target:"_blank",href:e.$t("footer.risk_prompts_url")}},[e._v(e._s(e.$t("footer.risk_prompts")))])],1)]),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{width:"406px"},attrs:{type:"primary"},on:{click:function(t){return e.checkAndRegister("regMobileForm")}}},[e._v("\n            "+e._s(e.$t("login.register"))+"\n          ")])],1),e._v(" "),r("div",{staticStyle:{float:"right","margin-top":"10px"}},[r("span",{staticClass:"desc",staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$t("login.have_an_account")))]),r("a",{staticClass:"hover",attrs:{href:"/login"}},[e._v(e._s(e.$t("login.login")))])])],1)],1)],1),e._v(" "),r("captcha",{ref:"captcha",on:{"on-success":e.handleSuccessCaptcha}})],1)}),[],!1,null,"7861ff5a",null);t.default=d.exports}}]);