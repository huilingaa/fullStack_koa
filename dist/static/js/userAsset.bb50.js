(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"Ahb/":function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("o0o1"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("yXPU"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("lSNA"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__),vuex__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("L2JU"),_remote_fp__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5sr+"),_components_gaoxinbao_apply__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("tA4F"),bignumber_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("kB5k"),bignumber_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_6__);function ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach((function(e){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}__webpack_exports__.a={name:"FinancialAccount",components:{apply:_components_gaoxinbao_apply__WEBPACK_IMPORTED_MODULE_5__.a},filters:{toNumber:function(t){return bignumber_js__WEBPACK_IMPORTED_MODULE_6___default()(t).toNumber()}},data:function(){return{inputValue:"",showErrorType:"",data:{},modelData:{},dataTop:[],list:[],loading:!1,onoff:!1,dialogVisible:!1,confirmBox:!1,isclick:!1,minRedemptionAmount:"",dialogTransferVisible:!1,assureAsset:[],serverTime:Date.now(),typeMap:{title:"",precision:"depositNumber",minRedeemQuantity:"MinimumRedemptionAmount",maxQuantity:"MaximumRedemptionAmount",remaining:"RemainingRedemptionAmount",zero:"zero",moreAvailable:"moreAvailable",notBuyOrSellTime:"notBuyOrSellTime",notNumber:"notRedemptionNumber"}}},computed:_objectSpread(_objectSpread({},Object(vuex__WEBPACK_IMPORTED_MODULE_3__.d)(["langData"])),{},{needMulNumber:function(){return this.bigNumber(this.bigNumber(this.data.redeemRatio).toNumber()).multipliedBy(100)},totalQuantity:function(){var t=this.bigNumber(this.data.depositQuantity).toNumber();return this.bigNumber(t>0?t:0).toFixed()},errorTipsValue:function(){return this.showErrorType?this.$t("fp.".concat(this.typeMap[this.showErrorType])).replace(/{account}/,this.toShowValue(this.data[this.showErrorType])).replace(/{coin}/,this.data.depositAsset):""},disabled:function(){return this.onoff}}),watch:{totalQuantity:function(t,e){this.data.maxQuantity=t},dialogVisible:function(){this.confirmBox=!1,this.inputValue="",this.showErrorType="",this.onoff=!1}},created:function(){console.log(window.performance),this.render(),this.getTime()},methods:{getTime:function(){var t=this;_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.serverTime().then((function(e){t.serverTime=Number(e.serverTime)})).catch((function(e){t.serverTime=Date.now()}))},redemption:function(t){if(this.bigNumber(t.depositQuantity).toNumber()<=0)return!1;switch(t.type){case 1:return!t.canRedeemTime||!(new Date(t.canRedeemTime).getTime()>this.serverTime);case 2:case 3:return t.canRedeemTime&&t.redeemEnabled?new Date(t.canRedeemTime).getTime()<=this.serverTime:!(t.canRedeemTime&&!t.redeemEnabled)&&(!(t.canRedeemTime||!t.redeemEnabled)||(t.canRedeemTime||t.redeemEnabled,!1))}},bigNumber:bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a,getShow:function(t,e){return 1!==e&&0===bignumber_js__WEBPACK_IMPORTED_MODULE_6___default()(t).toNumber()?"_":"+ ".concat(bignumber_js__WEBPACK_IMPORTED_MODULE_6___default()(t).toNumber())},toShowValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.bigNumber(this.bigNumber(t).toNumber()).toFixed(e)},render:function(){var t=this;return _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.productList().then((function(e){t.list=e}));case 2:return e.next=4,_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.getAccounts("fund").then((function(e){t.dataTop=e}));case 4:case"end":return e.stop()}}),e)})))()},handleClose:function(){this.dialogVisible=!1,this.data={}},handelRedemption:function(t){var e=this;return _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function s(){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(new Date(t.canRedeemTime).getTime()>e.serverTime)){s.next=5;break}e.$alert(e.$t("fp.alert_time",{time:t.canRedeemTime}),e.$t("fp.tip"),{confirmButtonText:e.$t("fp.confirm"),type:"warning"}).then((function(){})),s.next=11;break;case 5:return s.next=7,_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.WealthListDetail(t.productId);case 7:a=s.sent,e.langData[a.tagCode]&&(a.tagCode=e.langData[a.tagCode].split(",")),e.data=_objectSpread(_objectSpread({},a),t),e.dialogVisible=!0;case 11:case"end":return s.stop()}}),s)})))()},HandelJump:function(){this.$router.push("/gxSavings")},handelAddSubscribe:function(t){var e=this;return _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function s(){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.WealthListDetail(t.productId);case 2:if(a=s.sent,e.langData[a.tagCode]&&(a.tagCode=e.langData[a.tagCode].split(",")),e.modelData=_objectSpread({},a),0!==Number(a.availableQuantity)){s.next=8;break}return e.$confirm(e.$t("fp.SeeOtherProducts"),e.$t("fp.tip"),{confirmButtonText:e.$t("fp.View"),cancelButtonText:e.$t("fp.cancel"),type:"warning"}).then((function(){e.$router.push("/gxSavings")})),s.abrupt("return");case 8:"f_product_end"===a.productBuyStatusCode?e.$confirm(e.$t("fp.buyEndTime"),e.$t("fp.tip"),{confirmButtonText:e.$t("fp.View"),cancelButtonText:e.$t("fp.cancel"),type:"warning"}).then((function(){e.$router.push("/gxSavings")})):(e.dialogTransferVisible=!0,e.assureAsset=[]);case 9:case"end":return s.stop()}}),s)})))()},handleTransferClose:function(){this.render(),this.dialogTransferVisible=!1,this.data={}},copyAll:function(){this.inputValue=this.bigNumber(this.bigNumber(this.totalQuantity).toFixed(this.data.depositNumber||0)).toNumber(),this.handleChangeInput(this.inputValue)},handleChangeInput:function handleChangeInput(value){this.onoff=!0,this.showErrorType="";try{if(value)this.inputValue=String(value).match(eval("/\\d+(\\.\\d{0,"+this.data.depositNumber+"})?/gim"))[0];else if(this.inputValue=value,""===this.inputValue)return this.showErrorType="",void(this.onoff=!1);value=this.bigNumber(value).toNumber(),0===value||"0"===value?(this.showErrorType="zero",this.onoff=!1):value<this.bigNumber(this.data.minRedeemQuantity).toNumber()?(this.showErrorType="minRedeemQuantity",this.onoff=!1):value>=this.totalQuantity?(this.showErrorType="maxQuantity",this.onoff=!0,this.inputValue=this.totalQuantity):this.bigNumber(this.totalQuantity).minus(value).toNumber()<this.data.minRedeemQuantity?(this.inputValue=this.totalQuantity,this.onoff=!0):(this.showErrorType="",this.onoff=!0),console.log(this.onoff,"onoff")}catch(t){this.onoff=!1}},confirmSubscription:function(){var t=this;_remote_fp__WEBPACK_IMPORTED_MODULE_4__.a.redeemSubmit({id:this.data.id,redeemQuantity:this.inputValue}).then((function(e){console.log(e,"redeemQuantity"),t.confirmBox=!1,t.dialogVisible=!1,t.$message.success(t.$t("fp.RedemptionSuccessful")),t.render()})).catch((function(e){t.confirmBox=!1}))}}}},t4EW:function(t,e,s){"use strict";s.r(e);var a=s("lSNA"),i=s.n(a),n=s("vLz+"),o=s("vKDJ"),r=s("0ERz"),l=s.n(r),c=s("sxGJ"),d=s.n(c),u=s("L2JU"),_=s("kB5k"),m=s.n(_);function h(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}var p={name:"AssetWithdraw",props:{account:{type:[Object,String],default:function(){return{}}}},data:function(){return{urlNameData:[],depositAddr:{},loading:!1,selectedAddress:"",withdrawAddresses:[],safeVerificationVisible:!1,showDropdown:!1,withdrawConfig:{},withdrawForm:this.resetForm(),chainIndex:0,maxWithdrawalAmount:0,actualAmount:0,sendBtnText:this.$t("common.send_code"),sendEmailBtnText:this.$t("common.send_code"),verfifyBtnDisabled:!1,sendEmailCountDown:0,sendSmsCountDown:0,authFormRules:{emailCode:[{required:!0,message:this.$t("my_assets.please_enter_the_email_code"),trigger:"blur"}],smsCode:[{required:!0,message:this.$t("login.enter_mobile_verification_code"),trigger:"blur"}],googleCode:[{required:!0,message:this.$t("login.enter_google_verification_code"),trigger:"blur"}]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(u.d)(["langData"])),watch:{"account.assetCode":function(t){this.withdrawConfig={},this.initWithdraw(0),this.withdrawForm=this.resetForm(),this.actualAmount=0},"withdrawForm.quantity":function(t){this.actualAmount=this.bigNumber(this.withdrawForm.quantity||0).minus(this.bigNumber(this.withdrawConfig.withdrawFee||0).plus(this.bigNumber(this.withdrawForm.quantity||0).times(this.withdrawConfig.withdrawExtraFeeProportion||0))).toNumber()}},mounted:function(){var t=this;console.log(this.account,"account"),this.$nextTick((function(){t.withdrawForm.assetCode=t.account.assetCode,t.toggleDeposit(t.account.assetCode)}))},methods:{bigNumber:m.a,handleSelectAddress:function(t){console.log(t,"item"),this.withdrawForm.address=t.address,this.withdrawForm.addressName=t.addressName,this.withdrawForm.addressTag=t.addressTag||"",this.showDropdown=!1},getChainData:function(t,e){this.withdrawForm.chainId=t||null,this.chainIndex=e,this.initWithdraw(this.chainIndex);var s=this;s.loadingAffix=!0,o.a.getWithdrawAddress({assetCode:s.account.assetCode,chainId:t}).then((function(t){s.withdrawAddresses=t}))},toggleDeposit:function(t){var e=this;o.a.geturlName({assetCode:t}).then((function(t){e.urlNameData=t.filter((function(t){return t.withdrawEnabled})),e.initWithdraw(0)}))},padding0:function(t){for(var e="";t--;)e+="0";return e},handle:function(t){var e=String(t),s=e.lastIndexOf(".");return-1===s?[e,0]:[e.replace(".",""),e.length-s-1]},operate:function(t,e,s,a){switch(s){case"+":return(t+e)/a;case"-":return(t-e)/a;case"*":return t*e/(a*a);case"/":return t/e}},fixedFloat:function(t,e,s){var a=this.handle(t),i=this.handle(e),n=0;return 0===a[1]&&0===i[1]?this.operate(+a[0],+i[0],s,1):(n=Math.pow(10,Math.max(a[1],i[1])),a[1]!==i[1]&&(a[1]>i[1]?i[0]+=this.padding0(a[1]-i[1]):a[0]+=this.padding0(i[1]-a[1])),this.operate(+a[0],+i[0],s,n))},plus:function(t,e){return this.fixedFloat(t,e,"+")},minus:function(t,e){return this.fixedFloat(t,e,"-")},multiply:function(t,e){return this.fixedFloat(t,e,"*")},division:function(t,e){return this.fixedFloat(t,e,"/")},sendEmailAuthNo:function(){this.sendEmailCountDown=60;var t=this;o.a.sendEmailCode().then((function(e){t.emailCountDown()})).catch((function(){t.sendEmailCountDown=0}))},sendMobileAuthNo:function(){this.sendSmsCountDown=60;var t=this;o.a.sendSmsVerificationCode().then((function(e){t.smsCountDown()})).catch((function(){t.sendSmsCountDown=0}))},secondAuthVerify:function(){if(""===this.withdrawForm.emailCode)return this.$message({type:"error",message:this.$t("my_assets.please_enter_the_email_code")}),!1;this.verfifyBtnDisabled=!0;var t={assetCode:this.withdrawConfig.assetCode,amount:this.withdrawForm.quantity,withdrawAddressId:this.selectedAddress,addressTag:this.withdrawForm.addressTag,addressName:this.withdrawForm.addressName,address:this.withdrawForm.address,emailCode:this.withdrawForm.emailCode,mobileCode:this.withdrawForm.smsCode,googleCode:this.withdrawForm.googleCode,addAddress:this.withdrawForm.addAddress,chainId:this.withdrawForm.chainId||null},e=this;o.a.withdrawApply(t).then((function(t){e.$message({type:"success",message:e.$t("my_assets.apply_withdrawal_success")}),e.safeVerificationVisible=!1,this.initWithdraw(this.chainIndex),this.withdrawForm=this.resetForm(),e.$emit("withdraw-success")})).finally((function(){e.verfifyBtnDisabled=!1}))},submitForm:function(){null!==this.withdrawForm.quantity&&""!==this.withdrawForm.quantity&&0!==parseFloat(this.withdrawForm.quantity)?this.withdrawForm.quantity<parseFloat(this.withdrawConfig.minWithdrawQuantity)?this.$message({type:"error",message:this.$t("my_assets.the_withdrawal_amount_cannot_be_less_than",{minAmount:this.withdrawConfig.minWithdrawQuantity})}):(parseFloat(this.maxWithdrawalAmount)||0)>0&&this.withdrawForm.quantity>this.maxWithdrawalAmount?this.$message({type:"error",message:this.$t("my_assets.the_withdrawal_amount_is_greater_than",{maxAmount:this.maxWithdrawalAmount})}):null!==this.withdrawForm.address&&""!==this.withdrawForm.address?null!==this.withdrawForm.addressTag&&""!==this.withdrawForm.addressTag||!this.withdrawConfig.addressWithTag||this.withdrawConfig.tagOptional?(this.sendSmsCountDown=0,this.sendEmailCountDown=0,this.safeVerificationVisible=!0):this.$message({type:"error",message:this.$t("my_assets.please_enter_display_name",{displayName:this.withdrawConfig.tagDisplayName})}):this.$message({type:"error",message:this.$t("my_assets.please_enter_the_address")}):this.$message({type:"error",message:this.$t("my_assets.please_enter_the_withdrawal_amount")})},initWithdraw:function(t){if(this.chainIndex=t,this.withdrawForm.chainId=this.urlNameData[t]?this.urlNameData[t].chainId:null,this.account.assetCode){this.withdrawAddresses=[];var e=this;o.a.getWithdrawConfig({assetCode:this.account.assetCode,chainId:this.withdrawForm.chainId||null}).then((function(t){e.withdrawConfig=t,console.log(e.withdrawConfig,"withdrawConfig");var s=parseFloat(e.withdrawConfig.maxWithdrawQuantity),a=parseFloat(e.account.availableBalance);e.maxWithdrawalAmount=0===s||s>a?a:s}))}else this.withdrawConfig={}},emailCountDown:function(){this.sendEmailCountDown>0?(this.sendEmailCountDown=this.sendEmailCountDown-1,this.sendEmailBtnText=this.sendEmailCountDown+"S",setTimeout(this.emailCountDown,1e3)):this.sendEmailBtnText=this.$t("common.send_code")},smsCountDown:function(){this.sendSmsCountDown>0?(this.sendSmsCountDown=this.sendSmsCountDown-1,this.sendBtnText=this.sendSmsCountDown+"S",setTimeout(this.smsCountDown,1e3)):this.sendBtnText=this.$t("common.send_code")},setMaxAmount:function(){console.log("-=-=",this.maxWithdrawalAmount),this.withdrawForm.quantity=this.maxWithdrawalAmount},closeVisibleDia:function(){},resetForm:function(){return{assetCode:"",quantity:void 0,address:"",addressName:"",addressTag:"",emailCode:"",smsCode:"",googleCode:"",addAddress:!1,chainId:""}}}},f=s("KHd+");function v(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?v(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"Exchange",components:{Withdraw:Object(f.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.urlNameData.length?s("div",{staticClass:"AssetWithdraw"},[s("el-row",[s("div",{staticClass:"nameChaid"},[t._v("\n      "+t._s(t.$t("user.withdrawaddress.urlName"))+"\n    ")]),t._v(" "),s("div",{staticClass:"chainArray"},t._l(t.urlNameData,(function(e,a){return s("div",{key:a,class:t.chainIndex===a?"active":"default",on:{click:function(s){return t.getChainData(e.chainId,a)}}},[t._v("\n        "+t._s(e.chainName)+"\n      ")])})),0),t._v(" "),s("el-col",[s("el-form",{ref:"withdrawForm",staticClass:"withdrawForm",attrs:{"hide-required-asterisk":!0,size:"small","status-icon":!1,model:t.withdrawForm,"label-width":"120px","label-position":"top"}},[s("el-form-item",{attrs:{label:t.$t("my_assets.cash_withdrawal_amount")}},[s("div",{staticClass:"withdrawalTip"},[s("el-input-number",{attrs:{max:t.bigNumber(t.maxWithdrawalAmount||t.account.availableBalance||0).toNumber(),controls:!1},model:{value:t.withdrawForm.quantity,callback:function(e){t.$set(t.withdrawForm,"quantity",e)},expression:"withdrawForm.quantity"}}),t._v(" "),s("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v("\n              "+t._s(t.$t("my_assets.max_withdrawal_amount"))+"\n              "),s("a",{attrs:{href:"javascript:"},on:{click:t.setMaxAmount}},[t._v(t._s(t.maxWithdrawalAmount)+" "+t._s(t.account.assetCode))])]),t._v(" "),s("span",[t._v("\n              "+t._s(t.$t("common.trading_fee"))+"："+t._s(t.withdrawConfig.withdrawFee)+" "+t._s(t.account.assetCode)+"\n            ")]),t._v(" "),t.withdrawConfig.withdrawExtraFeeProportion>0?s("span",[t._v(t._s(t.$t("my_assets.extra_fee_proportion"))+"："+t._s(t.withdrawConfig.withdrawExtraFeeProportion))]):t._e(),t._v(" "),s("span",[t._v(t._s(t.$t("my_assets.actual_arrival"))+"："+t._s(t.actualAmount)+" "+t._s(t.account.assetCode))])],1)]),t._v(" "),s("el-form-item",{attrs:{label:t.$t("my_assets.withdrawal_address")}},[s("el-popover",{attrs:{"popper-class":"address_dropdown_list",placement:"bottom"},model:{value:t.showDropdown,callback:function(e){t.showDropdown=e},expression:"showDropdown"}},[s("el-input",{attrs:{slot:"reference",placeholder:t.$t("my_assets.address")},slot:"reference",model:{value:t.withdrawForm.address,callback:function(e){t.$set(t.withdrawForm,"address",e)},expression:"withdrawForm.address"}}),t._v(" "),s("ul",t._l(t.withdrawAddresses,(function(e){return s("li",{key:e.id,attrs:{value:e.id,command:e},on:{click:function(s){return t.handleSelectAddress(e)}}},[s("span",[t._v(t._s(e.addressName))]),t._v(" "),s("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[t._v("\n                  "+t._s(e.address)+"\n                  "),t._v(" "),e.addressTag?s("span",[t._v("（"+t._s(t.withdrawConfig.tagDisplayName)+":"+t._s(e.addressTag)+"）")]):t._e()])])})),0)],1)],1),t._v(" "),t.withdrawForm.addressTag&&t.withdrawForm.address?s("el-form-item",[s("p",{attrs:{slot:"label"},slot:"label"},[s("span",[t._v(t._s(t.withdrawConfig.tagDisplayName||t.$t("my_assets.remark_tag")))]),t._v(" "),s("span",{staticStyle:{color:"#FF4D4D"}},[t._v("（"+t._s(t.$t("my_assets.remark_tag_tips"))+"）")])]),t._v(" "),s("el-input",{attrs:{placeholder:t.withdrawConfig.addressTag},model:{value:t.withdrawForm.addressTag,callback:function(e){t.$set(t.withdrawForm,"addressTag",e)},expression:"withdrawForm.addressTag"}})],1):t._e()],1)],1),t._v(" "),s("el-col",[s("el-row",{attrs:{type:"flex"}},[s("el-col",{staticStyle:{"line-height":"1.75"},attrs:{span:12}},[s("div",[t._v("\n            "+t._s(t.$t("my_assets.warm_reminder"))+"\n          ")]),t._v(" "),s("div",{staticStyle:{color:"#999999","line-height":"18px","font-size":"12px","word-break":"break-word","white-space":"pre-line"},domProps:{innerHTML:t._s(t.langData[t.withdrawConfig.notice]||t.withdrawConfig.notice)}})]),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"bottom"}},[s("el-button",{staticClass:"apply_withdrawal",attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("\n              "+t._s(t.$t("my_assets.apply_withdrawal"))+"\n            ")])],1)],1)],1)],1)],1),t._v(" "),s("el-dialog",{attrs:{title:t.$t("my_assets.safe_verification"),visible:t.safeVerificationVisible,width:"445px","close-on-click-modal":!1},on:{"update:visible":function(e){t.safeVerificationVisible=e},close:t.closeVisibleDia}},[s("el-form",{ref:"authForm",attrs:{"hide-required-asterisk":!0,model:t.withdrawForm,"status-icon":!1,rules:t.authFormRules}},[s("el-form-item",{attrs:{label:t.$t("common.email_code"),prop:"emailCode"}},[s("el-input",{attrs:{type:"text"},model:{value:t.withdrawForm.emailCode,callback:function(e){t.$set(t.withdrawForm,"emailCode",e)},expression:"withdrawForm.emailCode"}},[s("template",{slot:"append"},[s("el-button",{attrs:{disabled:t.sendEmailCountDown>0},domProps:{textContent:t._s(t.sendEmailBtnText)},on:{click:t.sendEmailAuthNo}})],1)],2)],1),t._v(" "),t.withdrawConfig.mobileAuthActive?s("el-form-item",{attrs:{label:t.$t("my_assets.mobile_verification_code"),prop:"smsCode"}},[s("el-input",{attrs:{type:"text"},model:{value:t.withdrawForm.smsCode,callback:function(e){t.$set(t.withdrawForm,"smsCode",e)},expression:"withdrawForm.smsCode"}},[s("template",{slot:"append"},[s("el-button",{attrs:{disabled:t.sendSmsCountDown>0},domProps:{textContent:t._s(t.sendBtnText)},on:{click:t.sendMobileAuthNo}})],1)],2)],1):t._e(),t._v(" "),t.withdrawConfig.googleAuthActive?s("el-form-item",{attrs:{label:t.$t("common.google_code"),prop:"googleCode"}},[s("el-input",{attrs:{type:"text"},model:{value:t.withdrawForm.googleCode,callback:function(e){t.$set(t.withdrawForm,"googleCode",e)},expression:"withdrawForm.googleCode"}})],1):t._e()],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",disabled:t.verfifyBtnDisabled},on:{click:t.secondAuthVerify}},[t._v("\n        "+t._s(t.$t("common.confirm"))+"\n      ")]),t._v(" "),s("el-button",{on:{click:function(e){t.safeVerificationVisible=!1}}},[t._v("\n        "+t._s(t.$t("common.cancel"))+"\n      ")])],1)],1)],1):t._e()}),[],!1,null,"71de740c",null).exports},data:function(){return{searchForm:{assetCode:null,hideSmallBalance:!1},assets:{estimateValue:"",accounts:[]},chainIndex:0,urlNameData:[],depositAddr:{},actionType:null,selectedAsset:null,loading:!1,loadingAffix:!1,qrcode:null,user:{}}},computed:b(b({},Object(u.d)(["userInfo","langData"])),{},{accounts:function(){var t=this,e=this.assets.accounts.filter((function(e){return e=e||{},!t.searchForm.hideSmallBalance||e.estimateBtcValue>5e-4})).filter((function(e){if(e=e||{},!t.searchForm.assetCode)return!0;var s=t.searchForm.assetCode.toLowerCase();return e.assetCode.toLowerCase().indexOf(s)>-1}));return e.forEach((function(t){var e=t.availableMarkets;e&&0!==e.length?t.availableMarkets=e.map((function(t){return"string"==typeof t?{disabled:!1,symbol:t}:{disabled:!1,symbol:t.symbol}})):e.push({disabled:!0,symbol:"No Markets"})})),e}}),created:function(){this.$store.dispatch("getUserInfo")},mounted:function(){this.loadAccounts();var t=this;o.a.getUserInfo().then((function(e){t.user=e}))},methods:{loadAccounts:function(){this.selectedAsset=null;var t=this;this.loading=!0,n.a.getAccounts("exchange",{unit:this.$store.state.suffix.trim()}).then((function(e){e=e||{},t.assets=e,t.assets.accounts=e.accounts||[]})).finally((function(){t.loading=!1}))},copyAddr:function(t){var e=this,s=new d.a(t);s.on("success",(function(t){e.$message.success("Success"),s.destroy()})),s.on("error",(function(t){e.$message.warning("Failed"),s.destroy()}))},toTrade:function(t){this.$router.push("/trade/"+t)},showQrcode:function(t){this.$refs.addressQrcode.forEach((function(t,e){t.innerHTML=""})),this.qrcode&&(this.qrcode.clear(),this.qrcode=null),t&&(this.qrcode=new l.a("address_qrcode",{width:150,height:150,text:t,colorDark:"#303133",colorLight:"#ffffff"}))},toggleDeposit:function(t){var e=this;if("deposit"===this.actionType&&this.selectedAsset===t)return this.actionType="",this.selectedAsset="",this.depositAddr={},void(this.selectedAsset=null);o.a.geturlName({assetCode:t}).then((function(t){e.urlNameData=t.filter((function(t){return t.depositEnabled})),e.getChainData(e.urlNameData[0]?e.urlNameData[0].chainId:null,0)})),this.depositAddr={},this.actionType="deposit",this.selectedAsset=t},getChainData:function(t,e){this.chainIndex=e;var s=this;s.loadingAffix=!0,o.a.getDepositAddr({assetCode:this.selectedAsset,chainId:t}).then((function(t){s.depositAddr=t})).finally((function(){s.loadingAffix=!1}))},toWithdraw:function(t){var e=this;"withdraw"!==this.actionType||this.selectedAsset!==t?this.userInfo.email?this.user.smsAuthActive||this.user.googleAuthActive?(this.actionType="withdraw",this.selectedAsset=t):this.$message({type:"error",message:this.$t("my_assets.withdraw_secondauth_tip")}):this.$confirm(this.$t("my_assets.bind_email_msg"),this.$t("my_assets.prompt"),{confirmButtonText:this.$t("my_assets.bind_email"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){e.$router.push("/userCenter/emailVerified")})):this.selectedAsset=null}}},w=Object(f.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"uc-content"},[s("el-form",{staticClass:"demo-form-inline",staticStyle:{width:"100%","padding-left":"10px"},attrs:{"hide-required-asterisk":!0,inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[s("el-form-item",{staticClass:"asset_valuation",attrs:{label:t.$t("my_assets.asset_valuation")+":"}},[t._v("\n      "+t._s(t.assets.estimateValue)+" BTC "),s("span",{staticStyle:{"font-size":"14px","font-family":"DIN","font-weight":"400",color:"rgba(145,148,164,1)"}},[t._v("≈ "+t._s(t.assets.btcToUnitValue)+" "+t._s(t.assets.unit))])]),t._v(" "),s("div",{staticStyle:{float:"right"}},[s("el-form-item",[s("el-input",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:t.$t("my_assets.asset_code")},model:{value:t.searchForm.assetCode,callback:function(e){t.$set(t.searchForm,"assetCode",e)},expression:"searchForm.assetCode"}})],1),t._v(" "),s("el-form-item",[s("el-checkbox",{model:{value:t.searchForm.hideSmallBalance,callback:function(e){t.$set(t.searchForm,"hideSmallBalance",e)},expression:"searchForm.hideSmallBalance"}},[s("el-tooltip",{attrs:{effect:"dark",content:t.$t("my_assets.small_assets_content"),placement:"top"}},[s("span",[t._v(t._s(t.$t("my_assets.hide_small_assets"))+" "),s("i",{staticClass:"el-icon-question"})])])],1)],1)],1)],1),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"el-table el-table--fit el-table--enable-row-transition el-table--small",staticStyle:{"min-height":"400px","padding-left":"10px"}},[s("div",{staticClass:"el-table__header-wrapper"},[s("table",{staticClass:"el-table__header",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[s("col",{attrs:{name:"el-table_1_column_1",width:"80"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_2",width:"100"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_3",width:"178"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_4",width:"178"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_5",width:"170"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_6",width:"170"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_7",width:"300"}})]),t._v(" "),s("thead",{staticClass:"has-gutter"},[s("tr",[s("th",{staticClass:"is-leaf"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.asset_code"))+"\n              ")])]),t._v(" "),s("th",{staticClass:"is-center is-leaf"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.asset_name"))+"\n              ")])]),t._v(" "),s("th",{staticClass:"is-right is-leaf is-sortable"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.amount"))+"\n                "),s("span",{staticClass:"caret-wrapper"},[s("i",{staticClass:"sort-caret ascending"}),t._v(" "),s("i",{staticClass:"sort-caret descending"})])])]),t._v(" "),s("th",{staticClass:"is-right is-leaf"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.amount1"))+"\n              ")])]),t._v(" "),s("th",{staticClass:"is-right is-leaf"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.freeze"))+"\n              ")])]),t._v(" "),s("th",{staticClass:"is-right is-leaf"},[s("div",{staticClass:"cell"},[t._v("\n                "+t._s(t.$t("my_assets.freeze1"))+"\n              ")])]),t._v(" "),s("th",{staticClass:"is-center is-leaf"},[s("div",{staticClass:"cell"})])])])])]),t._v(" "),s("div",{staticClass:"el-table__body-wrapper is-scrolling-none"},[s("table",{staticClass:"el-table__header",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[s("col",{attrs:{name:"el-table_1_column_1",width:"80"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_2",width:"100"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_3",width:"178"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_4",width:"178"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_5",width:"170"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_6",width:"170"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_7",width:"300"}})]),t._v(" "),s("tbody",[t._l(t.accounts,(function(e){return[s("tr",{staticClass:"el-table__row",class:{"el-table__row--striped":t.depositAddr.assetCode===e.assetCode}},[s("td",[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.assetCode)+"\n                ")])]),t._v(" "),s("td",{staticClass:"is-center "},[s("div",{staticClass:"cell"},[s("span",[t._v(t._s(e.assetName))])])]),t._v(" "),s("td",{staticClass:"is-right "},[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.totalBalance)+"\n                ")])]),t._v(" "),s("td",{staticClass:"is-right "},[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.availableBalance)+"\n                ")]),t._v(" "),"CPOT"===e.marketGroup?s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.restrictBalance)+"("+t._s(t.$t("my_assets.limit"))+")\n                ")]):t._e()]),t._v(" "),s("td",{staticClass:"is-right "},[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.frozenBalance)+"\n                ")])]),t._v(" "),s("td",{staticClass:"is-right "},[s("div",{staticClass:"cell"},[t._v("\n                  "+t._s(e.lockingBalance)+"\n                ")])]),t._v(" "),s("td",{staticClass:"is-right "},[s("div",{staticClass:"cell"},[!e.depositEnabled&&e.depositStatusDesc?s("el-tooltip",{attrs:{plain:"",content:e.depositStatusDesc,placement:"top"}},[s("span",[s("el-button",{attrs:{size:"mini",disabled:!0}},[t._v(t._s(t.$t("my_assets.recharge")))])],1)]):s("span",[s("el-button",{attrs:{plain:"",size:"mini",disabled:!e.depositEnabled,type:"deposit"===t.actionType&&t.selectedAsset===e.assetCode?"primary":""},on:{click:function(s){return t.toggleDeposit(e.assetCode,"deposit"===t.actionType?"":"deposit")}}},[t._v(t._s(t.$t("my_assets.recharge")))])],1),t._v(" "),!e.withdrawEnabled&&e.withdrawStatusDesc?s("el-tooltip",{attrs:{content:e.withdrawStatusDesc,placement:"top"}},[s("span",[s("el-button",{attrs:{plain:"",size:"mini",disabled:!0}},[t._v(t._s(t.$t("my_assets.withdraw")))])],1)]):s("span",[s("el-button",{attrs:{plain:"",size:"mini",disabled:!e.withdrawEnabled,type:"withdraw"===t.actionType&&t.selectedAsset===e.assetCode?"primary":""},on:{click:function(s){return t.toWithdraw(e.assetCode,"withdraw"===t.actionType?"":"withdraw")}}},[t._v(t._s(t.$t("my_assets.withdraw")))])],1),t._v(" "),s("el-dropdown",{staticStyle:{"margin-left":"10px","margin-right":"18px"},attrs:{trigger:"click"},on:{command:t.toTrade}},[s("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                      "+t._s(t.$t("my_assets.transaction"))+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.availableMarkets,(function(e){return s("el-dropdown-item",{key:e.symbol,staticStyle:{cursor:"pointer"},attrs:{disabled:e.disabled,command:e.symbol}},[t._v("\n                        "+t._s(e.symbol)+"\n                      ")])})),1)],1)],1)])]),t._v(" "),"deposit"===t.actionType&&t.selectedAsset===e.assetCode?s("tr",[s("td",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAffix,expression:"loadingAffix"}],attrs:{colspan:"6"}},[t.urlNameData.length?s("el-row",{staticStyle:{"padding-top":"15px","padding-left":"12px"}},[s("div",{staticClass:"nameChaid"},[t._v("\n                    "+t._s(t.$t("user.withdrawaddress.urlName"))+"\n                  ")]),t._v(" "),s("div",{staticClass:"chainArray"},t._l(t.urlNameData,(function(e,a){return s("div",{key:a,class:t.chainIndex===a?"active":"default",on:{click:function(s){return t.getChainData(e.chainId,a)}}},[t._v("\n                      "+t._s(e.chainName)+"\n                    ")])})),0),t._v(" "),s("el-col",[s("el-form",{staticClass:"deposit-dialog",attrs:{"hide-required-asterisk":!0,model:t.depositAddr,"label-width":"80px","label-position":"top"}},[s("el-form-item",{staticStyle:{color:"#3D7DF7"},attrs:{label:t.$t("my_assets.deposit_address")}},[s("span",{staticClass:"address"},[t._v(t._s(t.depositAddr.address))]),t._v(" "),s("span",{staticStyle:{margin:"0 28px",cursor:"pointer"},attrs:{id:"cp-btn-"+t.depositAddr.assetCode,"data-clipboard-text":t.depositAddr.address},on:{click:function(e){return t.copyAddr("#cp-btn-"+t.depositAddr.assetCode)}}},[t._v("\n                          "+t._s(t.$t("invite.copy"))+"\n                        ")]),t._v(" "),s("el-popover",{attrs:{"popper-class":"el-popover__bg__white",placement:"bottom-end",width:"170",trigger:"hover"},on:{show:function(e){return t.showQrcode(t.depositAddr.address)}}},[s("div",{staticStyle:{"padding-left":"10px","font-size":"14px"}},[t._v("\n                            "+t._s(t.$t("my_assets.deposit_addr_qrcode"))+"\n                          ")]),t._v(" "),s("div",{ref:"addressQrcode",refInFor:!0,staticStyle:{padding:"10px"},attrs:{id:"address_qrcode"}}),t._v(" "),s("span",{staticStyle:{"padding-left":"5px","padding-right":"10px",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v("\n                            "+t._s(t.$t("ctc.qr"))+"\n                          ")])])],1),t._v(" "),t.depositAddr.addressWithTag?s("el-form-item",[s("div",{attrs:{slot:"label"},slot:"label"},[s("span",[t._v(t._s(t.depositAddr.tagDisplayName))]),t._v(" "),s("span",{staticStyle:{color:"#FF4D4D"}},[t._v("（"+t._s(t.$t("my_assets.remark_tag_tips2"))+"）")])]),t._v(" "),s("span",{staticStyle:{color:"#333","font-size":"18px","font-weight":"500"}},[t._v("\n                          "+t._s(t.depositAddr.addressTag)+"\n                        ")]),t._v(" "),s("span",{staticStyle:{color:"#3D7DF7",margin:"0 28px",cursor:"pointer"},attrs:{id:"cp-btn-"+t.depositAddr.assetCode,"data-clipboard-text":t.depositAddr.addressTag},on:{click:function(e){return t.copyAddr("#cp-btn-"+t.depositAddr.assetCode)}}},[t._v("\n                          "+t._s(t.$t("invite.copy"))+"\n                        ")])]):t._e()],1)],1),t._v(" "),s("el-col",[s("div",{staticClass:"tipBox"},[s("div",{staticClass:"tipTitle"},[t._v("\n                        "+t._s(t.$t("my_assets.warm_reminder"))+"\n                      ")]),t._v(" "),s("div",{staticClass:"tipFont",domProps:{innerHTML:t._s(t.langData[t.depositAddr.notice]||t.depositAddr.notice)}})])])],1):t._e()],1)]):t._e(),t._v(" "),s("tr",{directives:[{name:"show",rawName:"v-show",value:"withdraw"===t.actionType&&t.selectedAsset===e.assetCode,expression:"actionType === 'withdraw' && selectedAsset === account.assetCode"}]},[s("td",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAffix,expression:"loadingAffix"}],attrs:{colspan:"6"}},["withdraw"===t.actionType&&t.selectedAsset===e.assetCode?s("withdraw",{ref:"withdrawObject",refInFor:!0,attrs:{account:e},on:{"withdraw-success":t.loadAccounts}}):t._e()],1)])]}))],2)])])])],1)}),[],!1,null,"11c9c84c",null).exports,y={name:"Contract",components:{gTransfer:s("z/s1").a},data:function(){return{searchForm:{assetCode:null,hideSmallBalance:!1},assets:{estimateValue:"",unit:"",btcToUnitValue:"",accounts:[]},actionType:null,selectedAsset:null,loading:!1,clickNum:0,dialogTransferVisible:!1,assureAsset:""}},computed:{accounts:function(){var t=this;return this.assets.accounts.filter((function(e){return e=e||{},!t.searchForm.hideSmallBalance||e.estimateBtcValue>5e-4})).filter((function(e){if(e=e||{},!t.searchForm.assetCode)return!0;var s=t.searchForm.assetCode.toLowerCase();return e.assetCode.toLowerCase().indexOf(s)>-1}))}},mounted:function(){this.render()},methods:{render:function(){var t=this;this.selectedAsset=null,this.loading=!0,n.a.getAccounts("contract",{unit:this.$store.state.suffix.trim()}).then((function(e){e=e||{},t.assets=e,t.assets.accounts=e.accounts||[]})).finally((function(){t.loading=!1}))},handleTransfer:function(t){this.assureAsset=t.assetCode,this.dialogTransferVisible=!0},handleTransferClose:function(){this.render(),this.dialogTransferVisible=!1}}},C=Object(f.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"uc-content"},[s("el-form",{staticClass:"demo-form-inline",staticStyle:{width:"100%","padding-left":"10px"},attrs:{"hide-required-asterisk":!0,inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[s("el-form-item",{staticClass:"asset_valuation",attrs:{label:t.$t("my_assets.asset_valuation")+":"}},[t._v("\n      "+t._s(t.assets.estimateValue)+" BTC "),s("span",{staticStyle:{"font-size":"14px","font-family":"DIN","font-weight":"400",color:"rgba(145,148,164,1)"}},[t._v("≈ "+t._s(t.assets.btcToUnitValue)+" "+t._s(t.assets.unit))])]),t._v(" "),s("div",{staticStyle:{float:"right"}},[s("el-form-item",[s("el-input",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:t.$t("my_assets.asset_code")},model:{value:t.searchForm.assetCode,callback:function(e){t.$set(t.searchForm,"assetCode",e)},expression:"searchForm.assetCode"}})],1),t._v(" "),s("el-form-item",[s("el-checkbox",{model:{value:t.searchForm.hideSmallBalance,callback:function(e){t.$set(t.searchForm,"hideSmallBalance",e)},expression:"searchForm.hideSmallBalance"}},[s("el-tooltip",{attrs:{effect:"dark",content:t.$t("my_assets.small_assets_content"),placement:"top"}},[s("span",[t._v(t._s(t.$t("my_assets.hide_small_assets"))+" "),s("i",{staticClass:"el-icon-question"})])])],1)],1)],1)],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{size:"small",data:t.accounts}},[s("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.asset_code"),"min-width":"60px",align:"left"}}),t._v(" "),s("el-table-column",{attrs:{prop:"assetName",label:t.$t("my_assets.asset_name"),"min-width":"60px",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"totalBalance",label:t.$t("my_assets.amount"),"min-width":"100px",sortable:"",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{prop:"availableBalance",label:t.$t("my_assets.amount1"),"min-width":"100px",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{prop:"frozenBalance",label:t.$t("my_assets.margin"),"min-width":"100px",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{prop:"restrictBalance",label:t.$t("trade.frozen"),"min-width":"100px",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":"100px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticStyle:{background:"#3d7df7"},attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.handleTransfer(e.row)}}},[t._v("\n          "+t._s(t.$t("my_assets.transfer"))+"\n        ")])]}}])})],1),t._v(" "),t.dialogTransferVisible?s("g-transfer",{attrs:{"dialog-visible":t.dialogTransferVisible,"asset-code":t.assureAsset},on:{close:t.handleTransferClose}}):t._e()],1)}),[],!1,null,"2fa64345",null).exports,x={name:"Contract",components:{gTransfer:s("xxSP").a},data:function(){return{searchForm:{assetCode:null,hideSmallBalance:!1},assets:{estimateValue:"",unit:"",btcToUnitValue:"",accounts:[]},actionType:null,selectedAsset:null,loading:!1,clickNum:0,dialogTransferVisible:!1,assureAsset:"",legalAssetCodeList:[]}},computed:{accounts:function(){var t=this;return this.assets.accounts.filter((function(e){return e=e||{},!t.searchForm.hideSmallBalance||e.estimateBtcValue>5e-4})).filter((function(e){if(e=e||{},!t.searchForm.assetCode)return!0;var s=t.searchForm.assetCode.toLowerCase();return e.assetCode.toLowerCase().indexOf(s)>-1}))}},mounted:function(){this.render()},methods:{render:function(){var t=this;this.selectedAsset=null,this.loading=!0,n.a.getAccounts("legal",{unit:this.$store.state.suffix.trim()}).then((function(e){e=e||{},t.assets=e,t.assets.accounts=e.accounts||[]})).finally((function(){t.loading=!1})),this.getAccounts()},getAccounts:function(){var t=this;n.a.getAccounts("legal",{transferTag:!0,unit:this.$store.state.suffix.trim()}).then((function(e){t.legalAssetCodeList=e.accounts}))},handleTransferSuccess:function(){this.getAccounts(),this.render()},handleTransfer:function(t){this.assureAsset=t.assetCode,this.dialogTransferVisible=!0},handleTransferClose:function(){this.render(),this.dialogTransferVisible=!1}}},A=Object(f.a)(x,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"uc-content"},[s("el-form",{staticClass:"demo-form-inline",staticStyle:{width:"100%","padding-left":"10px"},attrs:{"hide-required-asterisk":!0,inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[s("el-form-item",{staticClass:"asset_valuation",attrs:{label:t.$t("my_assets.asset_valuation")+":"}},[t._v("\n      "+t._s(t.assets.estimateValue)+" BTC "),s("span",{staticStyle:{"font-size":"14px","font-family":"DIN","font-weight":"400",color:"rgba(145,148,164,1)"}},[t._v("≈ "+t._s(t.assets.btcToUnitValue)+" "+t._s(t.assets.unit))])]),t._v(" "),s("div",{staticStyle:{float:"right"}},[s("el-form-item",[s("el-input",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:t.$t("my_assets.asset_code")},model:{value:t.searchForm.assetCode,callback:function(e){t.$set(t.searchForm,"assetCode",e)},expression:"searchForm.assetCode"}})],1),t._v(" "),s("el-form-item",[s("el-checkbox",{model:{value:t.searchForm.hideSmallBalance,callback:function(e){t.$set(t.searchForm,"hideSmallBalance",e)},expression:"searchForm.hideSmallBalance"}},[s("el-tooltip",{attrs:{effect:"dark",content:t.$t("my_assets.small_assets_content"),placement:"top"}},[s("span",[t._v(t._s(t.$t("my_assets.hide_small_assets"))+" "),s("i",{staticClass:"el-icon-question"})])])],1)],1)],1)],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{size:"small",data:t.accounts}},[s("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.asset_code"),"min-width":"60px",align:"left"}}),t._v(" "),s("el-table-column",{attrs:{prop:"assetName",label:t.$t("my_assets.asset_name"),"min-width":"60px",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"totalBalance",label:t.$t("my_assets.amount"),"min-width":"100px",sortable:"",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{prop:"availableBalance",label:t.$t("my_assets.amount1"),"min-width":"100px",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{prop:"frozenBalance",label:t.$t("trade.frozen"),"min-width":"100px",align:"right"}}),t._v(" "),s("el-table-column",{attrs:{"min-width":"100px",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticStyle:{background:"#3d7df7"},attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.handleTransfer(e.row)}}},[t._v("\n          "+t._s(t.$t("my_assets.transfer"))+"\n        ")])]}}])})],1),t._v(" "),s("g-transfer",{attrs:{"dialog-visible":t.dialogTransferVisible,"asset-code":t.assureAsset,"legal-asset-code-list":t.legalAssetCodeList},on:{close:function(e){t.dialogTransferVisible=!1},"transfer-success":t.handleTransferSuccess}})],1)}),[],!1,null,"519dde45",null).exports,$=s("Ahb/").a,T={name:"UserAsset",components:{gExchange:w,gContract:C,gLegalCurrency:A,gFinancialAccount:Object(f.a)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"financialAccount"},[s("el-card",{staticClass:"uc-content"},[s("div",{staticClass:"flexLIcai"},[s("div",[s("div",[t._v("\n          "+t._s(t.$t("fp.TotalManagementAssets"))+"\n        ")]),t._v(" "),s("div",{staticClass:"flexSmall"},[s("p",[t._v(t._s(t.dataTop.totalTokenUnitValue)+" "+t._s(t.dataTop.tokenUnit)+" ")]),t._v(" "),s("p",{staticClass:"cny"},[t._v("\n            ≈ "+t._s(t.dataTop.totalTokenUnitToUnitValue)+" "+t._s(t.dataTop.unit)+"\n          ")])])]),t._v(" "),s("div",[s("div",[t._v(t._s(t.$t("fp.DisbursedIncome")))]),t._v(" "),s("div",{staticClass:"flexSmall"},[s("p",[t._v(t._s(t.dataTop.incomeTokenUnitValue)+" "+t._s(t.dataTop.tokenUnit))]),t._v(" "),s("p",{staticClass:"cny"},[t._v("\n            ≈ "+t._s(t.dataTop.incomeTokenUnitToUnitValue)+" "+t._s(t.dataTop.unit)+"\n          ")])])])]),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{size:"small",data:t.list}},[s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.productName"),"min-width":"80px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t.langData[e.row.nameCode])+" ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.PurchaseQuantity"),"min-width":"50px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t._f("toNumber")(e.row.depositQuantity))+" "+t._s(e.row.depositAsset))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.income"),"min-width":"90px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"#16A87F"}},[t._v(t._s(t.getShow(e.row.incomeQuantity,e.row.type))),"_"!==t.getShow(e.row.incomeQuantity,e.row.type)?s("span",[t._v(" "+t._s(e.row.incomeAsset)+" "+t._s(1===e.row.type?t.$t("fp.Issued"):t.$t("fp.Expected")))]):t._e()])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.Accruing"),"min-width":"50px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t._f("toNumber")(e.row.incomeEnableQuantity))+" "+t._s(e.row.depositAsset)+" ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.Redemptioned"),"min-width":"90px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.redeemedQuantity)+" "+t._s(e.row.depositAsset))]),t._v(" "),0!==Number(e.row.redeemQuantity)?s("div",{staticStyle:{color:"#3D7DF7"}},[t._v("\n            "+t._s(e.row.redeemQuantity)+" "+t._s(e.row.depositAsset)+" "+t._s(t.$t("fp.Redemption"))+"\n          ")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.theTerm"),"min-width":"50px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(1===e.row.type?t.$t("fp.Perpetual"):e.row.period+t.$t("fp.day")))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"buySide",label:t.$t("fp.time"),"min-width":"160px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(t.$t("fp.SubscribeTime"))+" "),s("span",{staticStyle:{color:"#999999"}},[t._v(t._s(e.row.buyTime.replace("-","/")))])]),t._v(" "),s("p",[t._v(t._s(t.$t("fp.CalculationTime"))+" "),s("span",{staticStyle:{color:"#999999"}},[t._v(t._s(e.row.incomeStartDate.replace("-","/")))])]),t._v(" "),1!==e.row.type?s("p",[t._v("\n            "+t._s(t.$t("fp.ExpireDate"))+" "),s("span",{staticStyle:{color:"#999999"}},[t._v(t._s(e.row.incomeEndDate.replace("-","/")))])]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{"min-width":"90px",align:"right",label:t.$t("fp.operating")},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"redemptionButton"},[t.redemption(e.row)?s("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(s){return t.handelRedemption(e.row)}}},[t._v("\n              "+t._s(t.$t("fp.redemption"))+"\n            ")]):t._e(),t._v(" "),1===e.row.status?s("el-button",{staticStyle:{background:"#3d7df7"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.HandelJump()}}},[t._v("\n              "+t._s(t.$t("fp.SeeOtherProductsBtn"))+"\n            ")]):s("el-button",{staticStyle:{background:"#3d7df7"},attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.handelAddSubscribe(e.row)}}},[t._v("\n              "+t._s(t.$t("fp.SubscribeAgain"))+"\n            ")])],1)]}}])})],1)],1),t._v(" "),s("el-dialog",{staticClass:"redemCard",attrs:{title:t.$t("fp.redemption"),visible:t.dialogVisible,width:"446px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"inputText"},[s("div",{staticClass:"top"},[s("p",[t._v(" "+t._s(t.$t("fp.number")))]),t._v(" "),s("p",[t._v(" "+t._s(t.$t("fp.Redeemable"))+"  "+t._s(t.bigNumber(t.data.depositQuantity).toNumber())+" "+t._s(t.data.depositAsset))])]),t._v(" "),s("div",{staticClass:"inputFlex"},[s("el-input",{attrs:{value:t.inputValue,placeholder:t.$t("fp.minRedemptionAmount")+t.bigNumber(t.data.minRedeemQuantity).toNumber()},on:{input:t.handleChangeInput}},[s("div",{attrs:{slot:"append"},slot:"append"},[s("p",{staticClass:"name"},[t._v("\n              "+t._s(t.data.depositAsset)+"\n            ")]),t._v(" "),s("p",{staticClass:"line"}),t._v(" "),s("p",{staticClass:"all",on:{click:t.copyAll}},[t._v("\n              "+t._s(t.$t("fp.all"))+"\n            ")])])])],1),t._v(" "),s("p",{staticClass:"errorTips",style:{margin:t.errorTipsValue?"6px 0":"auto"}},[t._v("\n        "+t._s(t.errorTipsValue)+"\n      ")]),t._v(" "),s("div",{staticClass:"last"},[t._v("\n        "+t._s(t.$t("fp.RedemptionRate"))+t._s(t.needMulNumber)+"%，"+t._s(0===t.bigNumber(t.data.redeemPeriod).toNumber()?t.$t("fp.RedemptionArrivesImmediately"):t.$t("fp.RedemptionDays",{day:t.data.redeemPeriod}))+"\n      ")])]),t._v(" "),s("div",{staticClass:"flexRow redeemMoney"},[s("p",[t._v(t._s(t.$t("fp.RedemptionFee")))]),t._v(" "),s("p",{staticStyle:{color:"#47506F"}},[t._v("\n        "+t._s(t.bigNumber(t.inputValue||0).times(t.data.redeemRatio||0))+" "+t._s(t.data.depositAsset)+"\n      ")])]),t._v(" "),s("div",{staticClass:"flexRow"},[s("p",[t._v(t._s(t.$t("fp.actualRedemption")))]),t._v(" "),s("p",{staticStyle:{color:"#47506F"}},[t._v("\n        "+t._s(t.bigNumber(t.inputValue||0).minus(t.bigNumber(t.inputValue||0).times(t.data.redeemRatio||0)))+" "+t._s(t.data.depositAsset)+"\n      ")])]),t._v(" "),s("el-button",{staticClass:"confirm",class:t.disabled?"noApply":"applyBtn",attrs:{disabled:!t.disabled},on:{click:function(e){t.confirmBox=!0}}},[t._v("\n      "+t._s(t.$t("fp.confirm"))+"\n    ")])],1),t._v(" "),s("el-dialog",{staticClass:"confirmBox",attrs:{visible:t.confirmBox,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){t.confirmBox=e}}},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("fp.ConfirmRedeem")))]),t._v(" "),s("div",{staticClass:"btnDialog"},[s("div",{on:{click:function(e){t.confirmBox=!1}}},[t._v("\n        "+t._s(t.$t("fp.cancel"))+"\n      ")]),t._v(" "),s("div",{staticStyle:{background:"#4a86f8","margin-left":"10px"},attrs:{type:"primary"},on:{click:t.confirmSubscription}},[t._v("\n        "+t._s(t.$t("fp.confirm"))+"\n      ")])])]),t._v(" "),s("apply",{attrs:{"dialog-visible":t.dialogTransferVisible,data:t.modelData},on:{VisibleClose:t.handleTransferClose}})],1)}),[],!1,null,"822d65ce",null).exports},data:function(){return{accountType:"exchange"}},mounted:function(){this.accountType=this.$route.query.accountType||"exchange"},methods:{}},D=Object(f.a)(T,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"uc-content-header"},[s("span",{class:{active:"exchange"==t.accountType},on:{click:function(e){t.accountType="exchange"}}},[t._v(t._s(t.$t("invite.exchange_account")))]),t._v(" "),s("span",{class:{active:"contract"==t.accountType},on:{click:function(e){t.accountType="contract"}}},[t._v(t._s(t.$t("invite.contract_account")))]),t._v(" "),s("span",{class:{active:"legalCurrency"==t.accountType},on:{click:function(e){t.accountType="legalCurrency"}}},[t._v(t._s(t.$t("invite.ctc_account")))]),t._v(" "),s("span",{class:{active:"financialAccount"==t.accountType},on:{click:function(e){t.accountType="financialAccount"}}},[t._v(t._s(t.$t("fp.financialAccount")))])]),t._v(" "),s("g-exchange",{directives:[{name:"show",rawName:"v-show",value:"exchange"==t.accountType,expression:"accountType== 'exchange'"}]}),t._v(" "),s("g-contract",{directives:[{name:"show",rawName:"v-show",value:"contract"==t.accountType,expression:"accountType== 'contract'"}]}),t._v(" "),s("g-legalCurrency",{directives:[{name:"show",rawName:"v-show",value:"legalCurrency"==t.accountType,expression:"accountType== 'legalCurrency'"}]}),t._v(" "),s("g-financialAccount",{directives:[{name:"show",rawName:"v-show",value:"financialAccount"==t.accountType,expression:"accountType== 'financialAccount'"}]})],1)}),[],!1,null,"7e1b59ef",null);e.default=D.exports},xxSP:function(t,e,s){"use strict";var a=s("lSNA"),i=s.n(a),n=s("vLz+");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}var r={name:"Transfer",props:{dialogVisible:{type:Boolean,default:!1},assetCode:{type:String,default:""},legalAssetCodeList:{type:Array,default:function(){return[]}}},data:function(){return{form:{assetCode:"",amount:""},rules:{assetCode:[{required:!0,trigger:"blur"}],amount:[{required:!0,message:this.$t("contract.please_enter")+this.$t("contract.transfer_amount"),trigger:"blur"}]},accountSide:"exchange",availableBalance:"",assetCodeList:[],exchangeAssetCodeList:[],transferSubmiting:!1}},watch:{dialogVisible:function(t){t&&(this.form.assetCode=this.assetCode,this.form.amount="",this.render())},assetCodeList:{handler:function(){this.handleAssetCode(this.form.assetCode)},deep:!0}},mounted:function(){},methods:{render:function(){var t=this;n.a.getAccounts("exchange",{transferTag:!0,unit:this.$store.state.suffix.trim()}).then((function(e){t.exchangeAssetCodeList=e.accounts,t.assetCodeList=t.exchangeAssetCodeList.concat()}))},handleAllAmount:function(){this.form.amount=this.availableBalance},setAccountSide:function(){this.accountSide="exchange"===this.accountSide?"legal":"exchange",this.assetCodeList=this[this.accountSide+"AssetCodeList"].concat()},handleAssetCode:function(t){this.availableBalance=(this.assetCodeList.find((function(e){return e.assetCode===t}))||{}).availableBalance},handleSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.transferSubmiting||(t.transferSubmiting=!0,n.a.transfer(function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({from:t.accountSide,to:"exchange"===t.accountSide?"legal":"exchange"},t.form)).then((function(e){t.handleClose(),t.$message.success("Success"),t.$emit("transfer-success")})).finally((function(){t.transferSubmiting=!1}))))}))},handleClose:function(){this.$emit("close",!1)},handInputAmount:function(t){this.form.amount=C.Utils.setNumberDigit(t,8)}}},l=s("KHd+"),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transfer-container"},[s("el-dialog",{staticClass:"protocol-dialog",attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"446px"},on:{close:t.handleClose}},[s("div",{staticClass:"title-dialog",attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("my_assets.transfer")))])]),t._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"form",attrs:{"status-icon":!1,"hide-required-asterisk":!1,model:t.form,rules:t.rules,"label-position":"top"}},[s("el-form-item",{attrs:{prop:"assetCode"}},[s("header",{staticClass:"label"},[t._v("\n            "+t._s(t.$t("my_assets.asset_code"))+"：\n          ")]),t._v(" "),s("el-select",{staticClass:"input-dialog",on:{change:t.handleAssetCode},model:{value:t.form.assetCode,callback:function(e){t.$set(t.form,"assetCode",e)},expression:"form.assetCode"}},t._l(t.assetCodeList,(function(t){return s("el-option",{key:t.assetCode,attrs:{value:t.assetCode,label:t.assetCode}})})),1)],1),t._v(" "),s("div",{staticClass:"exchange-contract"},[s("i",{staticClass:"icon-hz_liucheng"}),t._v(" "),s("div",{staticClass:"account-transfer"},[s("div",{staticClass:"to"},[s("span",[t._v(t._s(t.$t("contract.from")))]),t._v(" "),s("span",[t._v(t._s("exchange"==t.accountSide?t.$t("invite.exchange_account"):t.$t("invite.ctc_account")))])]),t._v(" "),s("div",{staticClass:"from"},[s("span",[t._v(t._s(t.$t("contract.to")))]),t._v(" "),s("span",[t._v(t._s("exchange"==t.accountSide?t.$t("invite.ctc_account"):t.$t("invite.exchange_account")))])])]),t._v(" "),s("div",{staticClass:"transfer-btn"},[s("i",{staticClass:"icon-hz_anniu",on:{click:t.setAccountSide}})])]),t._v(" "),s("el-form-item",{attrs:{prop:"amount"}},[s("header",{staticClass:"label",staticStyle:{display:"flex","justify-content":"space-between"}},[s("span",[t._v(t._s(t.$t("order.number"))+"：")]),t._v(" "),s("span",{staticStyle:{"font-size":"14px",color:"rgba(106,127,167,1)","font-weight":"400"}},[t._v(t._s(t.$t("trade.usable"))+"："+t._s(t._f("round")(t.availableBalance,8))+" "+t._s(t.form.assetCode))])]),t._v(" "),s("el-input",{staticClass:"input-dialog amount-input",attrs:{placeholder:t.$t("contract.please_enter")+t.$t("contract.transfer_amount")},on:{input:t.handInputAmount},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[s("div",{staticStyle:{height:"46px","line-height":"46px"},attrs:{slot:"suffix"},slot:"suffix"},[s("span",{staticStyle:{"margin-right":"10px",color:"#B0B7CC"}},[t._v(t._s(t.form.assetCode))]),t._v(" "),s("span",{staticStyle:{color:"#E9EAEF"}},[t._v("|")]),t._v(" "),s("span",{staticStyle:{margin:"0 10px",color:"#4A86F8",cursor:"pointer","user-select":"none"},on:{click:function(e){return e.stopPropagation(),t.handleAllAmount(e)}}},[t._v(t._s(t.$t("order.all")))])])])],1)],1),t._v(" "),s("div",{staticClass:"tip-msg"},[s("span",[t._v(t._s(t.$t("contract.transfer_tip_desc")))])]),t._v(" "),s("div",{staticClass:"p-btn",staticStyle:{"margin-top":"40px"}},[s("el-button",{staticClass:"p-btn-left",on:{click:t.handleClose}},[t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")]),t._v(" "),s("el-button",{staticClass:"p-btn-right active",attrs:{loading:t.transferSubmiting},on:{click:t.handleSubmit}},[t._v("\n          "+t._s(t.$t("common.confirm"))+"\n        ")])],1)],1)])],1)}),[],!1,null,"34df005f",null);e.a=c.exports},"z/s1":function(t,e,s){"use strict";var a=s("o0o1"),i=s.n(a),n=s("yXPU"),o=s.n(n),r=s("vKDJ"),l={name:"Transfer",props:{dialogVisible:{type:Boolean,default:!1},assetCode:{type:String,default:""},symbol:{type:String,default:""}},data:function(){return{form:{assetCode:"",amount:""},rules:{assetCode:[{required:!0,trigger:"blur"}],amount:[{required:!0,message:this.$t("contract.please_enter")+this.$t("contract.transfer_amount"),trigger:"blur"}]},accountSide:"exchange",assetCodes:[],availableBalance:"",transferAccountInfo:[]}},watch:{accountSide:function(){this.render()}},mounted:function(){this.form.assetCode=this.assetCode,this.render()},methods:{render:function(){var t=this;return o()(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getTransferAccountInfo({accountSide:t.accountSide,preAssetCode:t.form.assetCode});case 2:s=e.sent,t.transferAccountInfo=s,t.assetCodes=s.map((function(t){return t.assetCode})),t.form.assetCode=t.assetCodes[0],t.availableBalance=s.find((function(e){return e.assetCode===t.form.assetCode})).availableBalance;case 7:case"end":return e.stop()}}),e)})))()},handleAllAmount:function(){this.form.amount=this.availableBalance},setAccountSide:function(){this.accountSide="exchange"===this.accountSide?"contract":"exchange"},handleAssetCode:function(t){this.availableBalance=this.transferAccountInfo.find((function(e){return e.assetCode===t})).availableBalance},handleSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e&&!t.transferSubmiting){t.transferSubmiting=!0;try{"exchange"===t.accountSide?r.a.exchangeToContract(t.form).then((function(){t.$message.success("success"),t.form.amount="",t.$emit("close",!0)})).finally((function(){t.transferSubmiting=!1})):r.a.contractToExchange(t.form).then((function(){t.$message.success("success"),t.form.amount="",t.$emit("close",!0)})).finally((function(){t.transferSubmiting=!1}))}catch(t){}}}))},handleClose:function(){this.$emit("close",!1)},handInputAmount:function(t){this.form.amount=C.Utils.setNumberDigit(t,8)}}},c=s("KHd+"),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transfer-container"},[s("el-dialog",{staticClass:"protocol-dialog",attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"446px"},on:{close:t.handleClose}},[s("div",{staticClass:"title-dialog",attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("my_assets.transfer")))])]),t._v(" "),s("div",{staticClass:"content-container"},[s("el-form",{ref:"form",attrs:{"status-icon":!1,"hide-required-asterisk":!1,model:t.form,rules:t.rules,"label-position":"top"}},[s("el-form-item",{attrs:{prop:"assetCode"}},[s("header",{staticClass:"label"},[t._v("\n            "+t._s(t.$t("my_assets.asset_code"))+"：\n          ")]),t._v(" "),s("el-select",{staticClass:"input-dialog",on:{change:t.handleAssetCode},model:{value:t.form.assetCode,callback:function(e){t.$set(t.form,"assetCode",e)},expression:"form.assetCode"}},t._l(t.assetCodes,(function(t){return s("el-option",{key:t,attrs:{value:t,label:t}})})),1)],1),t._v(" "),s("div",{staticClass:"exchange-contract"},[s("i",{staticClass:"icon-hz_liucheng"}),t._v(" "),s("div",{staticClass:"account-transfer"},[s("div",{staticClass:"to"},[s("span",[t._v(t._s(t.$t("contract.from")))]),t._v(" "),s("span",[t._v(t._s("exchange"==t.accountSide?t.$t("invite.exchange_account"):t.$t("invite.contract_account")))])]),t._v(" "),s("div",{staticClass:"from"},[s("span",[t._v(t._s(t.$t("contract.to")))]),t._v(" "),s("span",[t._v(t._s("exchange"==t.accountSide?t.$t("invite.contract_account"):t.$t("invite.exchange_account")))])])]),t._v(" "),s("div",{staticClass:"transfer-btn"},[s("i",{staticClass:"icon-hz_anniu",on:{click:t.setAccountSide}})])]),t._v(" "),s("el-form-item",{attrs:{prop:"amount"}},[s("header",{staticClass:"label",staticStyle:{display:"flex","justify-content":"space-between"}},[s("span",[t._v(t._s(t.$t("order.number"))+"：")]),t._v(" "),s("span",{staticStyle:{"font-size":"14px",color:"rgba(106,127,167,1)","font-weight":"400"}},[t._v(t._s(t.$t("trade.usable"))+"："+t._s(t._f("round")(t.availableBalance,8))+" "+t._s(t.form.assetCode))])]),t._v(" "),s("el-input",{staticClass:"input-dialog amount-input",attrs:{placeholder:t.$t("contract.please_enter")+t.$t("contract.transfer_amount")},on:{input:t.handInputAmount},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[s("div",{staticStyle:{height:"46px","line-height":"46px"},attrs:{slot:"suffix"},slot:"suffix"},[s("span",{staticStyle:{"margin-right":"10px",color:"#B0B7CC"}},[t._v(t._s(t.form.assetCode))]),t._v(" "),s("span",{staticStyle:{color:"#E9EAEF"}},[t._v("|")]),t._v(" "),s("span",{staticStyle:{margin:"0 10px",color:"#4A86F8",cursor:"pointer","user-select":"none"},on:{click:function(e){return e.stopPropagation(),t.handleAllAmount(e)}}},[t._v(t._s(t.$t("order.all")))])])])],1)],1),t._v(" "),s("div",{staticClass:"tip-msg"},[s("span",[t._v(t._s(t.$t("contract.transfer_tip_desc")))])]),t._v(" "),s("div",{staticClass:"p-btn",staticStyle:{"margin-top":"40px"}},[s("span",{staticClass:"p-btn-left",on:{click:t.handleClose}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),s("span",{staticClass:"p-btn-right active",on:{click:t.handleSubmit}},[t._v(t._s(t.$t("common.confirm")))])])],1)])],1)}),[],!1,null,"1dc8bb88",null);e.a=d.exports}}]);