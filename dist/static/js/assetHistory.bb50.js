(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{PLHW:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s),r=a("yXPU"),o=a.n(r),l=a("lSNA"),i=a.n(l),c=a("vKDJ"),u=a("L2JU");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}var d={name:"MyTransfer",data:function(){return{pageNum:1,pageSize:20,total:0,type:0,list:[],loading:!1,urlArray:["getAllTranfer","getTurnTo","getTurnTo","getTurnTo","getTurnTo"],balanceType:["","exchangeToContract","contractToExchange","exchange_to_legal","legal_to_exchange"],requestUrl:"getExchangeToContractList",accountType:["","exchange","contract","exchange","legal"]}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(u.d)(["langData"])),mounted:function(){this.render()},methods:{render:function(){var t=this;return o()(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a[t.urlArray[t.type]]({accountType:t.accountType[t.type],transactionType:t.balanceType[t.type],pageNum:t.pageNum,pageSize:t.pageSize});case 3:a=e.sent,t.loading=!1,a.list.map((function(e){e.txTypeName=t.langData[e.txTypeName],e.amount=Math.abs(e.amount)})),t.list=a.list,t.list.map((function(t,e){t.transactionTimeStamp=C.Utils.parseDateFormat(new Date(t.transactionTimeStamp),"yyyy-MM-dd hh:mm:ss")})),t.total=a.total,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},handleCurrentChange:function(t){this.pageNum=t,this.render()},handleSwitch:function(t){this.type=t,this.requestUrl=this.urlArray[t],this.pageNum=1,this.render()}}},g=a("KHd+"),m=Object(g.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-transfer-container"},[a("div",{staticStyle:{"margin-left":"20px",padding:"5px 0"}},t._l([0,1,2,3,4],(function(e){return a("el-button",{key:e,attrs:{plain:"",size:"small",type:t.type==e?"primary":"plain"},on:{click:function(a){return t.handleSwitch(e)}}},[t._v("\n      "+t._s(t.$t("my_assets.toAaary")[e])+"\n    ")])})),1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{"margin-top":"10px"},attrs:{size:"small",data:t.list}},[a("el-table-column",{attrs:{prop:"transactionTimeStamp",label:t.$t("my_assets.date"),"min-width":"100px",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"txTypeName",label:t.$t("order.type"),"min-width":"100px",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.asset_code"),"min-width":"100px",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:t.$t("trade.quantity"),"min-width":"100px",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("trade.status"),"min-width":"60px",align:"right"}},[a("span",{staticStyle:{color:"#38a36d"}},[t._v(t._s(t.$t("my_assets.transfer_success")))])])],1),t._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)}),[],!1,null,"71d10484",null).exports,y=a("sxGJ"),h=a.n(y);function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}var f={name:"AssetHistory",components:{gMyTransfer:m},data:function(){return{dataType:"",loading:!0,assets:[],accountTxTypes:[],searchForm:{txType:null,assetCode:null,accountType:"exchange"},activeMenu:"deposit",depositPage:{list:[],totalPage:1,pageNo:1,total:0},withdrawPage:{list:[],totalPage:1,pageNo:1,total:0},accountTxPage:{list:[],totalPage:1,pageNo:1,total:0},accountLawPage:{list:[],totalPage:1,pageNo:1,total:0}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(u.d)(["langData"])),watch:{dataType:function(t,e){this.loadData()}},mounted:function(){this.dataType=this.$route.params.dataType||this.$route.query.activeMenu||"deposit",this.activeMenu=this.$route.query.activeMenu||"deposit",this.loadData()},methods:{handleCurrentChange:function(){this.loadData()},handlerClick:function(t){this.activeMenu=t,this.dataType=t},loadData:function(){switch(this.dataType){case"withdraw":this.loadWithdraw();break;case"accountTx":this.accountLawPage.pageNo=1,this.getAccountBill(),this.getSelectData();break;case"deposit":default:this.loadDeposit(),this.getSelectData()}},getSelectData:function(){var t=this;c.a.getAssets().then((function(e){t.exchangeAssets=e,t.assets=e})),c.a.getgetTxTypes(this.searchForm.accountType).then((function(e){t.exchangeAccountTxTypes=e,e.map((function(e){e.name=t.langData[e.name]})),t.accountTxTypes=e})),c.a.getMarginAssetList().then((function(e){e.forEach((function(t){t.assetCode=t.code})),t.contractAssets=e})),c.a.getAccountTxType().then((function(e){t.contractAccountTxTypes=e}))},getAccountBill:function(){var t=this;this.accountTxPage.pageNo=1,this.loading=!0,c.a.getLawsSelect({assetCode:this.searchForm.assetCode||"",transactionType:this.searchForm.txType||"",accountType:this.searchForm.accountType,pageNum:this.accountLawPage.pageNo,pageSize:10}).then((function(e){e.list.map((function(e){e.txTypeName=t.langData[e.txType]||e.txTypeName,e.transactionTimeStamp=C.Utils.parseDateFormat(new Date(e.transactionTimeStamp),"yyyy-MM-dd hh:mm:ss"),e.amount=Math.abs(e.amount)})),t.accountLawPage={list:e.list,totalPage:parseInt(e.totalPage),pageNo:parseInt(t.accountLawPage.pageNo),total:parseInt(e.total)}})).finally((function(){t.loading=!1}))},loadDeposit:function(){var t=this;this.loading=!0,c.a.getDepositPage({assetCode:null,page:this.depositPage.pageNo}).then((function(e){t.depositPage={list:e.list.map((function(e){return t.getTxIdAbridge(e,"txId"),e})),totalPage:parseInt(e.totalPage),pageNo:parseInt(e.pageNo),total:parseInt(e.total)}})).finally((function(){t.loading=!1}))},loadWithdraw:function(){var t=this;this.loading=!0,c.a.getWithdrawPage({assetCode:null,page:this.withdrawPage.pageNo}).then((function(e){t.withdrawPage={list:e.list.map((function(e){return t.getTxIdAbridge(e,"txId"),e})),totalPage:parseInt(e.totalPage),pageNo:parseInt(e.pageNo),total:parseInt(e.total)}})).finally((function(){t.loading=!1}))},loadAccountTx:function(){var t=this;this.loading=!0,c.a.getAccountTxPage({assetCode:this.searchForm.assetCode,txType:this.searchForm.txType,page:this.accountTxPage.pageNo}).then((function(e){e.list.map((function(e){e.txTypeName=t.langData[e.txTypeName]})),t.accountTxPage={list:e.list,totalPage:parseInt(e.totalPage),pageNo:parseInt(e.pageNo),total:parseInt(e.total)}})).finally((function(){t.loading=!1}))},getTxIdAbridge:function(t,e){var a=t[e];if(!a)return!1;if(a.length<=16)return!1;var s=a.substring(0,12),n=a.substring(a.length-4,a.length);t[e+"Abridge"]=s+"... "+n},copyKey:function(t){var e=new h.a(t),a=this;e.on("success",(function(t){a.$message({type:"success",message:a.$t("user.apikey.copy_successfully")}),e.destroy()})),e.on("error",(function(t){a.$message({type:"error",message:a.$t("user.apikey.copy_is_not_supported")}),e.destroy()}))},getRemark:function(t,e){if(!t)return"";if("Rebate"===e||"邀请返金"===e)return"";if("en"===this.$store.state.lang){if(-1!==t.indexOf("注册赠送"))return t.replace("注册赠送","Sign-up Bonus");if(-1!==t.indexOf("邀请赠送"))return t.replace("邀请赠送","Invitation Bonus")}return t},handleAccountTypeSwitch:function(){this.accountLawPage.pageNo=1,this.searchForm.txType=null,this.searchForm.assetCode=null,this.getAccountBill(),this.getSelectData()},handleCurrentChangeContract:function(t){this.accountLawPage.pageNo=t,this.getAccountUserTxListByModel()},getAccountUserTxListByModel:function(){var t=this;return o()(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,c.a.getLawsSelect({assetCode:t.searchForm.assetCode||"",transactionType:t.searchForm.txType||"",accountType:t.searchForm.accountType,pageNum:t.accountLawPage.pageNo,pageSize:10});case 4:(a=e.sent).list.map((function(e){e.txTypeName=t.langData[e.txType]||e.txTypeName,e.transactionTimeStamp=C.Utils.parseDateFormat(new Date(e.transactionTimeStamp),"yyyy-MM-dd hh:mm:ss"),e.amount=Math.abs(e.amount)})),t.accountLawPage={list:a.list,totalPage:parseInt(a.totalPage),pageNo:parseInt(t.accountLawPage.pageNo),total:parseInt(a.total)},t.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}}},v=Object(g.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"uc-content"},[a("div",{staticClass:"uc-content-header",attrs:{slot:"header"},slot:"header"},[a("ul",{staticClass:"menu"},[a("li",{class:{active:"deposit"===t.activeMenu},on:{click:function(e){return t.handlerClick("deposit")}}},[a("span",[t._v(t._s(t.$t("my_assets.recharge_record")))])]),t._v(" "),a("li",[a("div",{staticClass:"vline"})]),t._v(" "),a("li",{class:{active:"withdraw"===t.activeMenu},on:{click:function(e){return t.handlerClick("withdraw")}}},[a("span",[t._v(t._s(t.$t("my_assets.withdrawals_record")))])]),t._v(" "),a("li",[a("div",{staticClass:"vline"})]),t._v(" "),a("li",{class:{active:"transfer"===t.activeMenu},on:{click:function(e){t.activeMenu="transfer"}}},[a("span",[t._v(t._s(t.$t("my_assets.my_transfer")))])]),t._v(" "),a("li",[a("div",{staticClass:"vline"})]),t._v(" "),a("li",{class:{active:"accountTx"==t.activeMenu},on:{click:function(e){return t.handlerClick("accountTx")}}},[a("span",[t._v(t._s(t.$t("my_assets.distribution_record")))])])])]),t._v(" "),a("div",{staticClass:"form-div",style:{display:"deposit"==t.activeMenu?"block":"none"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.depositPage.list}},[a("el-table-column",{attrs:{prop:"depositTime",label:t.$t("my_assets.history_date"),width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.history_currency"),width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("my_assets.history_amount"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(Number(e.row.amount))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",width:"100",label:t.$t("my_assets.history_status")},scopedSlots:t._u([{key:"default",fn:function(e){return["pending"===e.row.status?a("span",[t._v("\n              "+t._s(t.$t("my_assets.status_processing"))+"\n              "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.confirmations+"/"+e.row.minConfirmations+" "+t.$t("my_assets.confirmations"),placement:"top-start"}},[a("el-icon",{staticClass:"el-icon-loading"})],1)],1):"confirmed"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_confirmed")))]):"unaudited"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_unaudited")))]):"submitted"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_submitted")))]):"cancelled"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_cancelled")))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"280",label:t.$t("my_assets.history_address")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.toAddress)+"\n            "),e.row.toAddress?a("el-button",{staticClass:"address",attrs:{type:"text",icon:"el-icon-document-copy","data-clipboard-text":e.row.toAddress},on:{click:function(e){return t.copyKey(".address")}}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"340",label:"txId"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[t._v("\n              "+t._s(e.row.txId)+"\n\n              "),e.row.blockExplorerUrl?a("el-link",{attrs:{type:"primary",target:"_blank",underline:!1,href:e.row.blockExplorerUrl}},[t._v("\n                "+t._s(e.row.txIdAbridge)+"\n              ")]):t._e(),t._v("\n                \n              "),e.row.txId?a("el-button",{staticClass:"txId",attrs:{type:"text",icon:"el-icon-document-copy","data-clipboard-text":e.row.txId},on:{click:function(e){return t.copyKey(".txId")}}}):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"addressTag",width:"100",label:t.$t("my_assets.history_remarks")}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",align:"right",background:"","current-page":t.depositPage.pageNo,layout:"total, prev, pager, next",total:t.depositPage.total},on:{"update:currentPage":function(e){return t.$set(t.depositPage,"pageNo",e)},"update:current-page":function(e){return t.$set(t.depositPage,"pageNo",e)},"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"form-div",style:{display:"withdraw"==t.activeMenu?"block":"none"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.withdrawPage.list}},[a("el-table-column",{attrs:{prop:"submitTime",label:t.$t("my_assets.history_date"),width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.history_currency"),width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("my_assets.history_amount"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(Number(e.row.amount))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",width:"100",label:t.$t("my_assets.history_status")},scopedSlots:t._u([{key:"default",fn:function(e){return["submitted"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_submitted")))]):"confirmed"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_confirmed")))]):"cancelled"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_cancelled")))]):"unaudited"===e.row.status?a("span",[t._v(t._s(t.$t("my_assets.status_unaudited")))]):a("span",[t._v(t._s(t.$t("my_assets.status_processing")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"280",label:t.$t("my_assets.history_address")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.address)+"\n            "),e.row.address?a("el-button",{staticClass:"address",attrs:{type:"text",icon:"el-icon-document-copy","data-clipboard-text":e.row.address},on:{click:function(e){return t.copyKey(".address")}}}):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"300",label:"txId"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[t._v("\n              "+t._s(e.row.txId)+"\n\n              "),e.row.blockExplorerUrl?a("el-link",{attrs:{type:"primary",target:"_blank",underline:!1,href:e.row.blockExplorerUrl}},[t._v("\n                "+t._s(e.row.txIdAbridge)+"\n              ")]):t._e(),t._v("\n                \n              "),e.row.txId?a("el-button",{staticClass:"txId",attrs:{type:"text",icon:"el-icon-document-copy","data-clipboard-text":e.row.txId},on:{click:function(e){return t.copyKey(".txId")}}}):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"addressTag",width:"100",label:t.$t("my_assets.history_remarks")}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",align:"right",background:"","current-page":t.withdrawPage.pageNo,layout:"total, prev, pager, next",total:t.withdrawPage.total},on:{"update:currentPage":function(e){return t.$set(t.withdrawPage,"pageNo",e)},"update:current-page":function(e){return t.$set(t.withdrawPage,"pageNo",e)},"current-change":t.handleCurrentChange}})],1),t._v(" "),"transfer"===t.activeMenu?a("g-my-transfer"):t._e(),t._v(" "),a("div",{staticClass:"form-div",style:{display:"accountTx"==t.activeMenu?"block":"none"}},[a("el-form",{staticStyle:{"margin-top":"5px"},attrs:{"hide-required-asterisk":!0,inline:!0},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-form-item",{staticStyle:{"padding-left":"10px"},attrs:{label:t.$t("common.account_type")}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small"},on:{change:t.handleAccountTypeSwitch},model:{value:t.searchForm.accountType,callback:function(e){t.$set(t.searchForm,"accountType",e)},expression:"searchForm.accountType"}},[a("el-option",{attrs:{label:t.$t("invite.exchange_account"),value:"exchange"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("invite.contract_account"),value:"contract"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("invite.ctc_account"),value:"legal"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"padding-left":"10px"},attrs:{label:t.$t("my_assets.history_currency")}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",filterable:""},model:{value:t.searchForm.assetCode,callback:function(e){t.$set(t.searchForm,"assetCode",e)},expression:"searchForm.assetCode"}},[a("el-option",{attrs:{label:t.$t("order.all"),value:""}}),t._v(" "),t._l(t.assets,(function(t){return a("el-option",{key:t.assetCode,attrs:{label:t.assetCode,value:t.assetCode}})}))],2)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("my_assets.history_txtype")}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:t.$t("order.type")},model:{value:t.searchForm.txType,callback:function(e){t.$set(t.searchForm,"txType",e)},expression:"searchForm.txType"}},[a("el-option",{attrs:{label:t.$t("order.all"),value:""}}),t._v(" "),t._l(t.accountTxTypes,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.code}})}))],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.loadData}},[t._v("\n            搜索\n            ")])],1)],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.accountLawPage.list}},[a("el-table-column",{attrs:{prop:"transactionTimeStamp",label:t.$t("my_assets.history_date")}}),t._v(" "),a("el-table-column",{attrs:{prop:"txTypeName",label:t.$t("my_assets.history_txtype")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(t.langData[e.row.txTypeName]||e.row.txTypeName)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"assetCode",label:t.$t("my_assets.history_currency")}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:t.$t("my_assets.history_amount")}}),t._v(" "),a("el-table-column",{attrs:{prop:"balanceAfter",label:t.$t("my_assets.history_balanceafter")}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:t.$t("my_assets.history_remarks")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.getRemark(e.row.remark,e.row.txTypeName))+"\n            ")]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",align:"right",background:"","current-page":t.accountLawPage.pageNo,layout:"total, prev, pager, next",total:t.accountLawPage.total},on:{"update:currentPage":function(e){return t.$set(t.accountLawPage,"pageNo",e)},"update:current-page":function(e){return t.$set(t.accountLawPage,"pageNo",e)},"current-change":t.handleCurrentChangeContract}})],1)],1)],1)],1)}),[],!1,null,"ffc4aac4",null);e.default=v.exports}}]);