(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{GZH0:function(e,t,s){"use strict";s.r(t);var o=s("lSNA"),n=s.n(o),r={name:"Breadcrumb",props:{title:{type:String,default:""}}},i=s("KHd+"),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-breadcrumb",{staticClass:"breadcrumb-container",attrs:{separator:">"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/userCenter"}}},[e._v("\n    "+e._s(e.$t("user.account"))+"\n  ")]),e._v(" "),s("el-breadcrumb-item",{staticClass:"current-page"},[e._v("\n    "+e._s(e.title)+"\n  ")])],1)}),[],!1,null,"7b8c6476",null).exports,l=s("L2JU"),d=s("vKDJ"),c=s("vLz+");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}var m={name:"FundPwd",components:{breadcrumb:a},data:function(){var e=this;return{form:{assetPassword:"",confirmPassword:"",smsVerifyCode:"",emailVerifyCode:""},rules:{assetPassword:[{required:!0,message:this.$t("ctc.placeholder_fund_pwd"),trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("ctc.placeholder_again_fund_pwd"),trigger:"blur"},{validator:function(t,s,o){s===e.form.assetPassword?o():o(new Error(e.$t("login.inconsistent_password")))},trigger:"blur"}],smsVerifyCode:[{required:!0,message:this.$t("login.enter_mobile_verification_code"),trigger:"blur"}],emailVerifyCode:[{required:!0,message:this.$t("user.apikey.please_enter_email_code"),trigger:"blur"}]},isBtnDisabled:!1,sendMobileBtnText:this.$t("ctc.get_code"),sendEmailBtnText:this.$t("ctc.get_code"),sendMobileCountDown:0,sendEmailCountDown:0}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){n()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(l.d)(["userInfo"])),methods:{sendMobileCode:function(){var e=this;d.a.sendSmsVerificationCode().then((function(){e.sendMobileCountDown=60,e.countMobileDown()})).catch((function(){e.sendMobileCountDown=0}))},countMobileDown:function(){this.sendMobileCountDown>0&&(this.sendMobileCountDown=this.sendMobileCountDown-1,setTimeout(this.countMobileDown,1e3))},sendEmailCode:function(){var e=this;d.a.sendEmailCode().then((function(){e.sendEmailCountDown=60,e.countEmailDown()})).catch((function(){e.sendEmailCountDown=0}))},countEmailDown:function(){this.sendEmailCountDown>0&&(this.sendEmailCountDown=this.sendEmailCountDown-1,setTimeout(this.countEmailDown,1e3))},saveVerified:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.isBtnDisabled=!0,c.a.resetFundPassword({assetPassword:e.form.assetPassword,emailVerifyCode:e.form.emailVerifyCode,smsVerifyCode:e.form.smsVerifyCode}).then((function(){e.isBtnDisabled=!1,e.$message.success(e.$t("ctc.fund_pwd_set_success")),e.$store.commit("_setUserInfo",{assetPasswordActive:!0}),e.$router.back()})).finally((function(){e.isBtnDisabled=!1})))}))}}},f=Object(i.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fundPwd-container"},[s("breadcrumb",{attrs:{title:e.$t("ctc.fund_pwd")}}),e._v(" "),s("div",{staticClass:"card-con"},[s("div",{staticClass:"title"},[e._v("\n      "+e._s(e.$t("ctc.fund_pwd"))+"\n    ")]),e._v(" "),s("el-form",{ref:"form",staticClass:"ruleForm",attrs:{"hide-required-asterisk":!0,"status-icon":!1,size:"medium ",model:e.form,rules:e.rules,"label-width":"180px"}},[s("el-form-item",{attrs:{label:e.$t("ctc.fund_pwd")+"：",prop:"assetPassword"}},[s("el-input",{attrs:{type:"password",placeholder:e.$t("ctc.placeholder_fund_pwd"),"show-password":"",maxlength:"6"},model:{value:e.form.assetPassword,callback:function(t){e.$set(e.form,"assetPassword",t)},expression:"form.assetPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("ctc.again_fund_pwd")+"：",prop:"confirmPassword"}},[s("el-input",{attrs:{type:"password",placeholder:e.$t("ctc.placeholder_again_fund_pwd"),"show-password":"",maxlength:"6"},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1),e._v(" "),e.userInfo.smsAuthActive?s("el-form-item",{attrs:{label:e.$t("user.apikey.sms_code")+"：",prop:"smsVerifyCode"}},[s("el-input",{attrs:{type:"text",placeholder:e.$t("login.enter_mobile_verification_code"),maxlength:"6"},model:{value:e.form.smsVerifyCode,callback:function(t){e.$set(e.form,"smsVerifyCode",t)},expression:"form.smsVerifyCode"}},[s("el-button",{staticClass:"send-btn",attrs:{slot:"append",type:"plain",disabled:e.sendMobileCountDown>0},on:{click:e.sendMobileCode},slot:"append"},[e._v("\n            "+e._s(0==e.sendMobileCountDown?e.$t("common.send_code"):e.sendMobileCountDown+"S")+"\n          ")])],1)],1):e._e(),e._v(" "),e.userInfo.email?s("el-form-item",{attrs:{label:e.$t("common.email_code")+"：",prop:"emailVerifyCode"}},[s("el-input",{attrs:{type:"text",placeholder:e.$t("user.apikey.please_enter_email_code"),maxlength:"6"},model:{value:e.form.emailVerifyCode,callback:function(t){e.$set(e.form,"emailVerifyCode",t)},expression:"form.emailVerifyCode"}},[s("el-button",{staticClass:"send-btn",attrs:{slot:"append",type:"plan",disabled:e.sendEmailCountDown>0},on:{click:e.sendEmailCode},slot:"append"},[e._v("\n            "+e._s(0==e.sendEmailCountDown?e.$t("common.send_code"):e.sendEmailCountDown+"S")+"\n          ")])],1)],1):e._e(),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:e.isBtnDisabled,loading:e.isBtnDisabled},on:{click:e.saveVerified}},[e._v("\n          确定\n        ")])],1)],1)],1)],1)}),[],!1,null,"60216d8a",null);t.default=f.exports}}]);