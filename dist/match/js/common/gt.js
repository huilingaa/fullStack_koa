!function(e){"use strict";if(void 0===e)throw new Error("Geetest requires browser environment");var t=e.document,n=e.Math,o=t.getElementsByTagName("head")[0];function r(e){this._obj=e}function a(e){var t=this;new r(e)._each((function(e,n){t[e]=n}))}r.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},a.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return i(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var t=this;new r(e)._each((function(e,n){t[e]=n}))}};var i=function(e){return"string"==typeof e},c=function(e){return"object"==typeof e&&null!==e},f={},s={},l=function(e,t,n,o){t=function(e){return e.replace(/^https?:\/\/|\/$/g,"")}(t);var a=function(e){return 0!==(e=e.replace(/\/+/g,"/")).indexOf("/")&&(e="/"+e),e}(n)+function(e){if(!e)return"";var t="?";return new r(e)._each((function(e,n){(i(n)||function(e){return"number"==typeof e}(n)||function(e){return"boolean"==typeof e}(n))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")})),"?"===t&&(t=""),t.replace(/&$/,"")}(o);return t&&(a=e+t+a),a},u=function(e,n,r,a,i){var c=function(f){!function(e,n){var r=t.createElement("script");r.charset="UTF-8",r.async=!0,r.onerror=function(){n(!0)};var a=!1;r.onload=r.onreadystatechange=function(){a||r.readyState&&"loaded"!==r.readyState&&"complete"!==r.readyState||(a=!0,setTimeout((function(){n(!1)}),0))},r.src=e,o.appendChild(r)}(l(e,n[f],r,a),(function(e){e?f>=n.length-1?i(!0):c(f+1):i(!1)}))};c(0)},p=function(t,o,r,a){if(c(r.getLib))return r._extend(r.getLib),void a(r);if(r.offline)a(r._get_fallback_config());else{var i="geetest_"+(parseInt(1e4*n.random())+(new Date).valueOf());e[i]=function(t){"success"==t.status?a(t.data):t.status?a(r._get_fallback_config()):a(t),e[i]=void 0;try{delete e[i]}catch(e){}},u(r.protocol,t,o,{gt:r.gt,callback:i},(function(e){e&&a(r._get_fallback_config())}))}},d=function(e,t){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])};(e.Geetest||t.getElementById("gt_lib"))&&(s.slide="loaded"),e.initGeetest=function(t,n){var o=new a(t);t.https?o.protocol="https://":t.protocol||(o.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),c(t.getType)&&o._extend(t.getType),p([o.api_server||o.apiserver],o.type_path,o,(function(t){var r=t.type,a=function(){o._extend(t),n(new e.Geetest(o))};f[r]=f[r]||[];var i=s[r]||"init";"init"===i?(s[r]="loading",f[r].push(a),u(o.protocol,t.static_servers||t.domains,t[r]||t.path,null,(function(e){if(e)s[r]="fail",d("networkError",o);else{s[r]="loaded";for(var t=f[r],n=0,a=t.length;n<a;n+=1){var i=t[n];"function"==typeof i&&i()}f[r]=[]}}))):"loaded"===i?a():"fail"===i?d("networkError",o):"loading"===i&&f[r].push(a)}))}}(window);